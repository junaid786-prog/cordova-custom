(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{"82eq":function(n,l,t){"use strict";t.r(l);var e=t("8Y7J"),i=t("mrSG"),o=t("ZZ/e"),s=t("R3bG"),u=t("8qa8"),a=t("OUMn");class c{constructor(n,l,t,e,o,s){this.translate=n,this.solosConnector=l,this.audioPlayback=t,this.events=e,this.zone=o,this.popupCtrl=s,this.deviceInfo=null,this.findDeviceTimer=null,this.evtSolosDisconnected=n=>{this.zone.run(()=>i.b(this,void 0,void 0,(function*(){this.deviceInfo=null,this.stopBeep(),yield this.popupCtrl.presentAlertController({header:this.translate.instant("global.warning"),message:this.translate.instant("global.device-disconnected"),buttons:[{text:this.translate.instant("global.okay"),role:"cancel"}]},!0)})))},this.setTitle=()=>{if(null!=this.deviceInfo)this.title=this.translate.instant("find-device.current-device-location",{value:this.deviceInfo.name});else{const n=this.translate.instant("solos-air.solos-air");this.title=this.translate.instant("find-device.last-device-location",{value:n})}},this.loadMap=()=>{this.map=new google.maps.Map(this.mapCanvas.nativeElement,{center:this.solosConnector.getLastLocation(),zoom:18,disableDefaultUI:!0}),new google.maps.Marker({position:this.solosConnector.getLastLocation(),map:this.map})},this.startBeep=()=>i.b(this,void 0,void 0,(function*(){null==this.findDeviceTimer&&(this.findDeviceTimer=setInterval(()=>{this.audioPlayback.playMusic(!1,u.c)},1e3))})),this.stopBeep=()=>{null!=this.findDeviceTimer&&(clearInterval(this.findDeviceTimer),this.findDeviceTimer=null)}}ngOnInit(){this.deviceInfo=this.solosConnector.getConnectedDevice(),this.setTitle()}ionViewWillEnter(){this.events.subscribe(s.k,this.evtSolosDisconnected),this.loadMap()}ionViewDidEnter(){}ionViewWillLeave(){this.events.unsubscribe(s.k,this.evtSolosDisconnected),this.stopBeep()}}class b{}var r=t("pMnS"),d=t("oBZk"),p=t("TSSN"),h=t("SVse"),v=e.Ab({encapsulation:0,styles:[[".container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:start;justify-content:flex-start;height:100%}.title[_ngcontent-%COMP%]{font-size:16pt;color:var(--solos-color-a);align-self:center;margin:10px}.device-map[_ngcontent-%COMP%]{height:100%;margin:20px}.play-music-button[_ngcontent-%COMP%]{width:80%;align-self:center;margin-bottom:calc(env(safe-area-inset-bottom) + 10px)}"]],data:{}});function f(n){return e.Xb(0,[(n()(),e.Cb(0,0,null,null,3,"ion-button",[["color","solos-color-a"],["expand","block"],["shape","round"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.startBeep()&&e),e}),d.K,d.c)),e.Bb(1,49152,null,0,o.m,[e.j,e.p,e.F],{color:[0,"color"],disabled:[1,"disabled"],expand:[2,"expand"],shape:[3,"shape"]},null),(n()(),e.Vb(2,0,["",""])),e.Pb(131072,p.j,[p.k,e.j])],(function(n,l){n(l,1,0,"solos-color-a",null==l.component.deviceInfo,"block","round")}),(function(n,l){n(l,2,0,e.Wb(l,2,0,e.Ob(l,3).transform("find-device.play-sound")))}))}function m(n){return e.Xb(0,[(n()(),e.Cb(0,0,null,null,3,"ion-button",[["color","solos-color-d"],["expand","block"],["shape","round"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.stopBeep()&&e),e}),d.K,d.c)),e.Bb(1,49152,null,0,o.m,[e.j,e.p,e.F],{color:[0,"color"],expand:[1,"expand"],shape:[2,"shape"]},null),(n()(),e.Vb(2,0,["",""])),e.Pb(131072,p.j,[p.k,e.j])],(function(n,l){n(l,1,0,"solos-color-d","block","round")}),(function(n,l){n(l,2,0,e.Wb(l,2,0,e.Ob(l,3).transform("find-device.stop-sound")))}))}function g(n){return e.Xb(0,[e.Tb(671088640,1,{mapCanvas:0}),(n()(),e.Cb(1,0,null,null,12,"ion-header",[],null,null,null,d.Q,d.i)),e.Bb(2,49152,null,0,o.D,[e.j,e.p,e.F],null,null),(n()(),e.Cb(3,0,null,0,10,"ion-toolbar",[["class","settings-header-background"],["mode","ios"]],null,null,null,d.ob,d.G)),e.Bb(4,49152,null,0,o.Db,[e.j,e.p,e.F],{mode:[0,"mode"]},null),(n()(),e.Cb(5,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,d.L,d.d)),e.Bb(6,49152,null,0,o.n,[e.j,e.p,e.F],null,null),(n()(),e.Cb(7,0,null,0,2,"ion-back-button",[["class","settings-back-button"],["text",""]],null,[[null,"click"]],(function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e.Ob(n,9).onClick(t)&&i),i}),d.J,d.b)),e.Bb(8,49152,null,0,o.i,[e.j,e.p,e.F],{text:[0,"text"]},null),e.Bb(9,16384,null,0,o.j,[[2,o.jb],o.Jb],null,null),(n()(),e.Cb(10,0,null,0,3,"ion-title",[["class","settings-header-title"]],null,null,null,d.mb,d.E)),e.Bb(11,49152,null,0,o.Bb,[e.j,e.p,e.F],null,null),(n()(),e.Vb(12,0,["",""])),e.Pb(131072,p.j,[p.k,e.j]),(n()(),e.Cb(14,0,null,null,10,"ion-content",[["class","settings-background ion-padding-top"]],null,null,null,d.O,d.g)),e.Bb(15,49152,null,0,o.w,[e.j,e.p,e.F],null,null),(n()(),e.Cb(16,0,null,0,8,"div",[["class","container"]],null,null,null,null,null)),(n()(),e.Cb(17,0,null,null,1,"div",[["class","title"]],null,null,null,null,null)),(n()(),e.Vb(18,null,["",""])),(n()(),e.Cb(19,0,[[1,0],["mapCanvas",1]],null,0,"div",[["class","device-map"]],null,null,null,null,null)),(n()(),e.Cb(20,0,null,null,4,"div",[["class","play-music-button"]],null,null,null,null,null)),(n()(),e.rb(16777216,null,null,1,null,f)),e.Bb(22,16384,null,0,h.l,[e.X,e.T],{ngIf:[0,"ngIf"]},null),(n()(),e.rb(16777216,null,null,1,null,m)),e.Bb(24,16384,null,0,h.l,[e.X,e.T],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,4,0,"ios"),n(l,8,0,""),n(l,22,0,null==t.findDeviceTimer),n(l,24,0,null!=t.findDeviceTimer)}),(function(n,l){var t=l.component;n(l,12,0,e.Wb(l,12,0,e.Ob(l,13).transform("find-device.find-device"))),n(l,18,0,t.title)}))}function k(n){return e.Xb(0,[(n()(),e.Cb(0,0,null,null,1,"app-find-device",[],null,null,null,g,v)),e.Bb(1,114688,null,0,c,[p.k,s.l,u.f,o.f,e.F,a.a],null,null)],(function(n,l){n(l,1,0)}),null)}var M=e.yb("app-find-device",c,k,{},{},[]),C=t("s7LF"),w=t("iInd");t.d(l,"FindDevicePageModuleNgFactory",(function(){return x}));var x=e.zb(b,[],(function(n){return e.Lb([e.Mb(512,e.m,e.kb,[[8,[r.a,M]],[3,e.m],e.D]),e.Mb(4608,h.n,h.m,[e.z,[2,h.z]]),e.Mb(4608,C.j,C.j,[]),e.Mb(4608,o.c,o.c,[e.F,e.g]),e.Mb(4608,o.Ib,o.Ib,[o.c,e.m,e.w]),e.Mb(4608,o.Nb,o.Nb,[o.c,e.m,e.w]),e.Mb(4608,p.g,p.f,[]),e.Mb(4608,p.c,p.e,[]),e.Mb(4608,p.i,p.d,[]),e.Mb(4608,p.b,p.a,[]),e.Mb(4608,p.k,p.k,[p.l,p.g,p.c,p.i,p.b,p.m,p.n]),e.Mb(1073742336,h.b,h.b,[]),e.Mb(1073742336,C.i,C.i,[]),e.Mb(1073742336,C.b,C.b,[]),e.Mb(1073742336,o.Fb,o.Fb,[]),e.Mb(1073742336,p.h,p.h,[]),e.Mb(1073742336,w.o,w.o,[[2,w.t],[2,w.m]]),e.Mb(1073742336,b,b,[]),e.Mb(256,p.n,void 0,[]),e.Mb(256,p.m,void 0,[]),e.Mb(1024,w.k,(function(){return[[{path:"",component:c}]]}),[])])}))}}]);