(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"6gT1":function(t,i,e){"use strict";e.d(i,"b",(function(){return c})),e.d(i,"a",(function(){return h}));var n=e("mrSG"),s=(e("ZZ/e"),e("lIDq")),l=e("lvyt");e("Z18M"),e("OUMn");const a=16;var o=function(t){return t[t.CURRENT=0]="CURRENT",t[t.START=1]="START",t[t.STOP=2]="STOP",t}({});class c{constructor(t,i,e,s,l,c,h){this.route=t,this.router=i,this.coachSettings=e,this.backend=s,this.navCtrl=l,this.translate=c,this.popupCtrl=h,this.startDate="",this.startTime="",this.elapsedHH=0,this.elapsedmm=0,this.elapsedss=0,this.distance=0,this.avgPacingmm=-1,this.avgPacingss=-1,this.maxPacingmm=-1,this.maxPacingss=-1,this.minPacingmm=-1,this.minPacingss=-1,this.movingHH=0,this.movingmm=0,this.movingss=0,this.stepCount=0,this.calories=0,this.avgStride=-1,this.maxStride=-1,this.minStride=-1,this.avgCadence=-1,this.maxCadence=-1,this.minCadence=-1,this.leftBal=0,this.rightBal=0,this.avgHeartRate=-1,this.minHeartRate=-1,this.maxHeartRate=-1,this.pacingUnit="summary.per-km",this.distanceUnit="summary.km",this.strideUnit="summary.m",this.runningRoute=null,this.calculatedRoutes=[],this.markers=[],this.map=null,this.isImperial=!1,this.deleteActivity=()=>n.b(this,void 0,void 0,(function*(){if(null!=this.activity.activityId)try{yield this.popupCtrl.presentActionSheet({buttons:[{text:this.translate.instant("summary.delete-activity"),role:"destructive",handler:()=>{this.backend.removeActivity(this.activity.activityId).then(()=>{this.navCtrl.pop()}).catch(t=>{this.navCtrl.pop()})}},{text:this.translate.instant("global.cancel"),role:"cancel"}]},!0)}catch(t){console.log(t)}})),this.showRecycleBin=()=>null!=this.activity.activityId,this.openMap=()=>n.b(this,void 0,void 0,(function*(){if(null==this.map&&this.runningRoute.length>0)try{this.map=new google.maps.Map(this.mapCanvas.nativeElement,{center:{lat:this.runningRoute[0].lat,lng:this.runningRoute[0].lng},zoom:a,disableDefaultUI:!0}),this.updateRouteDisplay()}catch(t){console.log(t)}})),this.closeMap=()=>{null!=this.map&&(this.deleteRoute(),this.map=null)},this.deleteRoute=()=>{this.deleteMarkers();for(let t of this.calculatedRoutes)t.setMap(null);this.calculatedRoutes=[]},this.addMarker=(t,i)=>{let e;switch(i){case o.CURRENT:e="assets/imgs/blue-dot.png";break;case o.START:e="assets/imgs/green-dot.png";break;case o.STOP:default:e="assets/imgs/red-dot.png"}if(null!=this.map){let i=new google.maps.Marker({map:this.map,position:t,icon:{url:e}});this.markers.push(i)}},this.deleteMarkers=()=>{for(const t of this.markers)t.setMap(null);this.markers.length=0},this.drawPathOnMap=(t,i)=>{let e="#AA00FF";i||(e="#C0C0C0");const n=new google.maps.Polyline({path:t,geodesic:!0,strokeColor:e,strokeOpacity:1,strokeWeight:2});n.setMap(this.map),this.calculatedRoutes.push(n)},this.updateRouteDisplay=()=>{if(null!=this.map){let t=new google.maps.LatLngBounds,i=[],e=!1,n=null,s=null;for(let l of this.runningRoute)null==l.paused&&(l.paused=!1),null==n&&(n=l),s=l,i.push({lat:l.lat,lng:l.lng}),t.extend(new google.maps.LatLng(l.lat,l.lng)),e!=l.paused&&(this.drawPathOnMap(i,!e),i=[l],e=l.paused);i.length>1&&this.drawPathOnMap(i,!e),this.calculatedRoutes.length>0?(this.addMarker(n,o.START),this.addMarker(s,o.STOP),this.map.fitBounds(t)):this.addMarker(i[0],o.CURRENT)}},this.route.queryParams.subscribe(t=>{this.router.getCurrentNavigation().extras.state&&(this.activity=this.router.getCurrentNavigation().extras.state.activity)})}ngOnInit(){this.startDate=Object(l.b)(this.activity.startTime)+" "+Object(l.a)(this.activity.startTime),this.startTime=Object(l.d)(this.activity.startTime),this.coachSettings.getUnit()==s.d&&(this.pacingUnit="summary.per-mi",this.distanceUnit="summary.mile",this.strideUnit="summary.feet",this.isImperial=!0);let t=this.activity.elapsedTime;this.elapsedss=Math.floor(t%60),this.elapsedmm=Math.floor(t/60)%60,this.elapsedHH=Math.floor(t/3600),this.distance=this.activity.distance,this.isImperial&&(this.distance*=.62137);let i=this.activity.avgPacing,e=this.activity.maxPacing,n=this.activity.minPacing;this.isImperial&&(i/=.62137,e/=.62137,n/=.62137),this.avgPacingmm=Math.floor(i),this.avgPacingss=Math.floor(i%1*60),this.maxPacingmm=Math.floor(e),this.maxPacingss=Math.floor(e%1*60),this.minPacingmm=Math.floor(n),this.minPacingss=Math.floor(n%1*60);let a=this.activity.movingTime;this.movingss=Math.floor(a%60),this.movingmm=Math.floor(a/60)%60,this.movingHH=Math.floor(a/3600),this.stepCount=this.activity.stepCount,this.calories=this.activity.calories,this.avgStride=this.activity.avgStride,this.maxStride=this.activity.maxStride,this.minStride=this.activity.minStride,this.isImperial&&(this.avgStride*=3.2808,this.maxStride*=3.2808,this.minStride*=3.2808),this.avgCadence=this.activity.avgCadence,this.maxCadence=this.activity.maxCadence,this.minCadence=this.activity.minCadence,this.leftBal=this.activity.leftBalance,this.rightBal=this.activity.rightBalance,this.avgHeartRate=this.activity.avgHeartRate,this.minHeartRate=this.activity.minHeartRate,this.maxHeartRate=this.activity.maxHeartRate,this.runningRoute=this.activity.route}ionViewDidEnter(){this.openMap()}ionViewWillLeave(){this.closeMap()}}class h{constructor(){this.activityId=null,this.startTime=null,this.distance=0,this.elapsedTime=0,this.avgPacing=0,this.maxPacing=0,this.minPacing=0,this.movingTime=0,this.stepCount=0,this.calories=0,this.avgStride=0,this.maxStride=0,this.minStride=0,this.avgCadence=0,this.maxCadence=0,this.minCadence=0,this.leftBalance=0,this.rightBalance=0,this.avgHeartRate=0,this.minHeartRate=0,this.maxHeartRate=0,this.route=[]}}},DU0v:function(t,i,e){"use strict";e.r(i);var n=e("8Y7J"),s=e("mrSG"),l=e("ZZ/e"),a=e("Z18M"),o=e("lIDq"),c=e("lvyt"),h=e("6gT1");class r{constructor(t,i,e,n,l,a){this.zone=t,this.route=i,this.router=e,this.backend=n,this.coachSetting=l,this.navCtrl=a,this.historyList=[],this.totalActivityCount=0,this.lastTotalActivityCount=-1,this.pacingUnit="activity-list.min-per-km",this.distanceUnit="activity-list.km",this.unit=o.e,this.busyLoadData=!1,this.getTotalActivityCount=()=>s.b(this,void 0,void 0,(function*(){try{this.totalActivityCount=yield this.backend.getTotalActivityCount4Dates(this.fromDate,this.toDate)}catch(t){console.log(t)}})),this.loadData=()=>s.b(this,void 0,void 0,(function*(){if(!this.busyLoadData){this.busyLoadData=!0;try{yield this.getTotalActivityCount(),this.totalActivityCount!=this.lastTotalActivityCount&&(this.lastTotalActivityCount=this.totalActivityCount,this.infiniteScroll.disabled=!1,this.historyList=[],yield this.loadMore(),this.checkUnitUpdate())}catch(t){console.log(t)}this.busyLoadData=!1}})),this.loadMore=(t=null)=>s.b(this,void 0,void 0,(function*(){this.historyList.length>0?yield this.getQueryActivities(this.fromDate,this.historyList[this.historyList.length-1].endTime,t):yield this.getQueryActivities(this.fromDate,this.toDate,t)})),this.getQueryActivities=(t,i,e=null)=>s.b(this,void 0,void 0,(function*(){try{let e=yield this.backend.queryActivities4Dates(t,i);if(e.length>0){for(let t of e){let i=t.getActivityId(),e=t.getStartTime(),n=Object(c.b)(e)+" "+Object(c.a)(e),s=Object(c.d)(e),l=t.getDistance().toFixed(2),a=t.getDistance(),o=t.getElapsedTime(),h=Math.floor(o%60),r=Math.floor(o/60)%60,g=Math.floor(o/3600),d=t.getAvgPace(),m=Math.floor(d),p=Math.floor(d%1*60),v=t.getEndTime();this.zone.run(()=>{this.historyList.push(new u(i,n,s,l,a,g,r,h,d,m,p,v))})}this.infiniteScroll.complete(),10!=e.length&&(this.infiniteScroll.disabled=!0)}else this.infiniteScroll.complete(),this.infiniteScroll.disabled=!0;this.virtualScroll.checkEnd()}catch(e){alert(e.message)}})),this.exploreActivity=t=>s.b(this,void 0,void 0,(function*(){try{let i=yield this.backend.queryActivity(t),e=new h.a;e.activityId=i.getActivityId(),e.startTime=i.getStartTime(),e.distance=i.getDistance(),e.elapsedTime=i.getElapsedTime(),e.avgPacing=i.getAvgPace(),e.maxPacing=i.getMaxPace(),e.minPacing=i.getMinPace(),e.movingTime=i.getMovingTime(),e.stepCount=i.getStepCount(),e.calories=i.getCalories(),e.avgStride=i.getAvgStride(),e.maxStride=i.getMaxStride(),e.minStride=i.getMinStride(),e.avgCadence=i.getAvgCadence(),e.maxCadence=i.getMaxCadence(),e.minCadence=i.getMinCadence(),e.leftBalance=i.getAvgLeftBalance(),e.rightBalance=i.getAvgRightBalance(),e.avgHeartRate=i.getAvgHeartRate(),e.minHeartRate=i.getMinHeartRate(),e.maxHeartRate=i.getMaxHeartRate(),e.route=i.getRoute(),this.navCtrl.navigateForward("/summary",{state:{activity:e}})}catch(i){alert(i.message)}})),this.route.queryParams.subscribe(t=>{this.router.getCurrentNavigation().extras.state&&(this.fromDate=this.router.getCurrentNavigation().extras.state.fromDate,this.toDate=this.router.getCurrentNavigation().extras.state.toDate)})}ngOnInit(){}ionViewWillEnter(){this.loadData()}ionViewDidEnter(){}ionViewWillLeave(){}ionViewDidLeave(){}checkUnitUpdate(){if(this.unit!=this.coachSetting.getUnit())if(this.coachSetting.getUnit()==o.d){for(let t of this.historyList){t.distance=(.62137*t.distanceOriginal).toFixed(2);let i=t.pacingOriginal/.62137;t.pacingmm=Math.floor(i),t.pacingss=Math.floor(i%1*60)}this.distanceUnit="activity-list.mile",this.pacingUnit="activity-list.min-per-mi",this.unit=o.d}else{for(let t of this.historyList){t.distance=t.distanceOriginal.toFixed(2);let i=t.pacingOriginal;t.pacingmm=Math.floor(i),t.pacingss=Math.floor(i%1*60)}this.pacingUnit="activity-list.min-per-km",this.distanceUnit="activity-list.km",this.unit=o.e}}}class u{constructor(t,i,e,n,s,l,a,o,c,h,r,u){this.activityID=t,this.date=i,this.time=e,this.distance=n,this.distanceOriginal=s,this.elapsedHH=l,this.elapsedmm=a,this.elapsedss=o,this.pacingOriginal=c,this.pacingmm=h,this.pacingss=r,this.endTime=u}}class g{}var d=e("pMnS"),m=e("oBZk"),p=e("TSSN"),v=e("SVse"),b=e("iInd"),y=n.Ab({encapsulation:0,styles:[["ion-item[_ngcontent-%COMP%]{--padding-end:0px;--inner-padding-end:0px}.container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.total-activities[_ngcontent-%COMP%]{color:var(--solos-color-a);font-size:16px;margin:10px;text-transform:uppercase}.card[_ngcontent-%COMP%]{width:90%;--background:var(--solos-color-b);padding-bottom:10px;margin-left:auto;margin-right:auto;border-radius:0;border:1px solid var(--solos-color-a)}.card-header[_ngcontent-%COMP%]{padding:0 15px;--min-height:0;--border-color:var(--solos-color-d);--border-width:0px 0px 1px 0px}.date[_ngcontent-%COMP%]{font-size:14px;color:var(--solos-color-a)}.time[_ngcontent-%COMP%]{font-size:14px;color:var(--solos-color-a);text-align:end}.card-body[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;padding:0 15px}.card-column[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.card-reading[_ngcontent-%COMP%]{color:var(--solos-color-a);margin:10px 0 5px;font-weight:700}.card-unit[_ngcontent-%COMP%]{text-align:center;color:var(--solos-color-c);margin:0;font-weight:100}"]],data:{}});function f(t){return n.Xb(0,[(t()(),n.Cb(0,0,null,null,33,"ion-card",[["class","card"]],null,[[null,"click"]],(function(t,i,e){var n=!0;return"click"===i&&(n=!1!==t.component.exploreActivity(t.context.$implicit.activityID)&&n),n}),m.M,m.e)),n.Bb(1,49152,null,0,l.o,[n.j,n.p,n.F],null,null),(t()(),n.Cb(2,0,null,0,7,"ion-item",[["class","card-header"],["no-padding",""]],null,null,null,m.W,m.o)),n.Bb(3,49152,null,0,l.J,[n.j,n.p,n.F],null,null),(t()(),n.Cb(4,0,null,0,2,"ion-label",[["class","date"]],null,null,null,m.X,m.p)),n.Bb(5,49152,null,0,l.P,[n.j,n.p,n.F],null,null),(t()(),n.Vb(6,0,[" "," "])),(t()(),n.Cb(7,0,null,0,2,"ion-label",[["class","time"]],null,null,null,m.X,m.p)),n.Bb(8,49152,null,0,l.P,[n.j,n.p,n.F],null,null),(t()(),n.Vb(9,0,[" "," "])),(t()(),n.Cb(10,0,null,0,23,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),n.Cb(11,0,null,null,5,"div",[["class","card-column"]],null,null,null,null,null)),(t()(),n.Cb(12,0,null,null,1,"h3",[["class","card-reading"]],null,null,null,null,null)),(t()(),n.Vb(13,null,["",""])),(t()(),n.Cb(14,0,null,null,2,"p",[["class","card-unit"]],null,null,null,null,null)),(t()(),n.Vb(15,null,["",""])),n.Pb(131072,p.j,[p.k,n.j]),(t()(),n.Cb(17,0,null,null,8,"div",[["class","card-column"]],null,null,null,null,null)),(t()(),n.Cb(18,0,null,null,4,"h3",[["class","card-reading"]],null,null,null,null,null)),(t()(),n.Vb(19,null,["","",":",""])),n.Rb(20,2),n.Rb(21,2),n.Rb(22,2),(t()(),n.Cb(23,0,null,null,2,"p",[["class","card-unit"]],null,null,null,null,null)),(t()(),n.Vb(24,null,["",""])),n.Pb(131072,p.j,[p.k,n.j]),(t()(),n.Cb(26,0,null,null,7,"div",[["class","card-column"]],null,null,null,null,null)),(t()(),n.Cb(27,0,null,null,3,"h3",[["class","card-reading"]],null,null,null,null,null)),(t()(),n.Vb(28,null,["",":",""])),n.Rb(29,2),n.Rb(30,2),(t()(),n.Cb(31,0,null,null,2,"p",[["class","card-unit"]],null,null,null,null,null)),(t()(),n.Vb(32,null,["",""])),n.Pb(131072,p.j,[p.k,n.j])],null,(function(t,i){var e=i.component;t(i,6,0,i.context.$implicit.date),t(i,9,0,i.context.$implicit.time),t(i,13,0,i.context.$implicit.distance),t(i,15,0,n.Wb(i,15,0,n.Ob(i,16).transform(e.distanceUnit)));var s=0==i.context.$implicit.elapsedHH?"":n.Wb(i,19,0,t(i,20,0,n.Ob(i.parent,0),i.context.$implicit.elapsedHH,"2.0-0"))+":",l=n.Wb(i,19,1,t(i,21,0,n.Ob(i.parent,0),i.context.$implicit.elapsedmm,"2.0-0")),a=n.Wb(i,19,2,t(i,22,0,n.Ob(i.parent,0),i.context.$implicit.elapsedss,"2.0-0"));t(i,19,0,s,l,a),t(i,24,0,n.Wb(i,24,0,n.Ob(i,25).transform("activity-list.time")));var o=i.context.$implicit.pacingmm>=0?n.Wb(i,28,0,t(i,29,0,n.Ob(i.parent,0),i.context.$implicit.pacingmm,"2.0-0")):"--",c=i.context.$implicit.pacingmm>=0?n.Wb(i,28,1,t(i,30,0,n.Ob(i.parent,0),i.context.$implicit.pacingss,"2.0-0")):"--";t(i,28,0,o,c),t(i,32,0,n.Wb(i,32,0,n.Ob(i,33).transform(e.pacingUnit)))}))}function C(t){return n.Xb(0,[n.Pb(0,v.e,[n.z]),n.Tb(671088640,1,{virtualScroll:0}),n.Tb(671088640,2,{infiniteScroll:0}),(t()(),n.Cb(3,0,null,null,12,"ion-header",[],null,null,null,m.Q,m.i)),n.Bb(4,49152,null,0,l.D,[n.j,n.p,n.F],null,null),(t()(),n.Cb(5,0,null,0,10,"ion-toolbar",[["class","settings-header-background"],["mode","ios"]],null,null,null,m.ob,m.G)),n.Bb(6,49152,null,0,l.Db,[n.j,n.p,n.F],{mode:[0,"mode"]},null),(t()(),n.Cb(7,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,m.L,m.d)),n.Bb(8,49152,null,0,l.n,[n.j,n.p,n.F],null,null),(t()(),n.Cb(9,0,null,0,2,"ion-back-button",[["class","settings-back-button"],["text",""]],null,[[null,"click"]],(function(t,i,e){var s=!0;return"click"===i&&(s=!1!==n.Ob(t,11).onClick(e)&&s),s}),m.J,m.b)),n.Bb(10,49152,null,0,l.i,[n.j,n.p,n.F],{text:[0,"text"]},null),n.Bb(11,16384,null,0,l.j,[[2,l.jb],l.Jb],null,null),(t()(),n.Cb(12,0,null,0,3,"ion-title",[["class","settings-header-title"]],null,null,null,m.mb,m.E)),n.Bb(13,49152,null,0,l.Bb,[n.j,n.p,n.F],null,null),(t()(),n.Vb(14,0,["",""])),n.Pb(131072,p.j,[p.k,n.j]),(t()(),n.Cb(16,0,null,null,16,"ion-content",[["class","settings-background"]],null,null,null,m.O,m.g)),n.Bb(17,49152,null,0,l.w,[n.j,n.p,n.F],null,null),(t()(),n.Cb(18,0,null,0,14,"div",[["class","container"]],null,null,null,null,null)),(t()(),n.Cb(19,0,null,null,2,"div",[["class","total-activities"]],null,null,null,null,null)),(t()(),n.Vb(20,null,[" ",""," "])),n.Pb(131072,p.j,[p.k,n.j]),(t()(),n.Cb(22,0,null,null,6,"ion-virtual-scroll",[["approxItemHeight","320px"]],null,null,null,m.pb,m.H)),n.Bb(23,835584,[[1,4],["virtualScroll",4]],3,l.Eb,[n.F,n.x,n.p],{approxItemHeight:[0,"approxItemHeight"],items:[1,"items"]},null),n.Tb(335544320,3,{itmTmp:0}),n.Tb(335544320,4,{hdrTmp:0}),n.Tb(335544320,5,{ftrTmp:0}),(t()(),n.rb(16777216,null,0,1,null,f)),n.Bb(28,16384,[[3,4]],0,l.Rb,[n.T,n.X],null,null),(t()(),n.Cb(29,0,null,null,3,"ion-infinite-scroll",[["threshold","100px"]],null,[[null,"ionInfinite"]],(function(t,i,e){var n=!0;return"ionInfinite"===i&&(n=!1!==t.component.loadMore(e)&&n),n}),m.U,m.l)),n.Bb(30,49152,[[2,4],["infiniteScroll",4]],0,l.G,[n.j,n.p,n.F],{threshold:[0,"threshold"]},null),(t()(),n.Cb(31,0,null,0,1,"ion-infinite-scroll-content",[["loadingSpinner","bubbles"]],null,null,null,m.T,m.m)),n.Bb(32,49152,null,0,l.H,[n.j,n.p,n.F],{loadingSpinner:[0,"loadingSpinner"]},null)],(function(t,i){var e=i.component;t(i,6,0,"ios"),t(i,10,0,""),t(i,23,0,"320px",e.historyList),t(i,30,0,"100px"),t(i,32,0,"bubbles")}),(function(t,i){var e=i.component;t(i,14,0,n.Wb(i,14,0,n.Ob(i,15).transform("activity-list.title"))),t(i,20,0,n.Wb(i,20,0,n.Ob(i,21).transform("activity-list.records")),e.totalActivityCount)}))}function T(t){return n.Xb(0,[(t()(),n.Cb(0,0,null,null,1,"app-coach-history",[],null,null,null,C,y)),n.Bb(1,114688,null,0,r,[n.F,b.a,b.m,a.c,o.a,l.Jb],null,null)],(function(t,i){t(i,1,0)}),null)}var R=n.yb("app-coach-history",r,T,{},{},[]),x=e("s7LF");e.d(i,"CoachHistoryPageModuleNgFactory",(function(){return M}));var M=n.zb(g,[],(function(t){return n.Lb([n.Mb(512,n.m,n.kb,[[8,[d.a,R]],[3,n.m],n.D]),n.Mb(4608,v.n,v.m,[n.z,[2,v.z]]),n.Mb(4608,x.j,x.j,[]),n.Mb(4608,l.c,l.c,[n.F,n.g]),n.Mb(4608,l.Ib,l.Ib,[l.c,n.m,n.w]),n.Mb(4608,l.Nb,l.Nb,[l.c,n.m,n.w]),n.Mb(4608,p.g,p.f,[]),n.Mb(4608,p.c,p.e,[]),n.Mb(4608,p.i,p.d,[]),n.Mb(4608,p.b,p.a,[]),n.Mb(4608,p.k,p.k,[p.l,p.g,p.c,p.i,p.b,p.m,p.n]),n.Mb(1073742336,v.b,v.b,[]),n.Mb(1073742336,x.i,x.i,[]),n.Mb(1073742336,x.b,x.b,[]),n.Mb(1073742336,l.Fb,l.Fb,[]),n.Mb(1073742336,b.o,b.o,[[2,b.t],[2,b.m]]),n.Mb(1073742336,p.h,p.h,[]),n.Mb(1073742336,g,g,[]),n.Mb(1024,b.k,(function(){return[[{path:"",component:r}]]}),[]),n.Mb(256,p.n,void 0,[]),n.Mb(256,p.m,void 0,[])])}))},lIDq:function(t,i,e){"use strict";e.d(i,"e",(function(){return M})),e.d(i,"d",(function(){return O})),e.d(i,"c",(function(){return P})),e.d(i,"b",(function(){return S})),e.d(i,"a",(function(){return k}));var n=e("mrSG"),s=e("ZZ/e"),l=e("8Y7J"),a=e("xgBC");const o="CoachSettings",c="Unit",h="ReminderInterval",r="ReminderTypeHeartRate",u="ReminderTypePacing",g="ReminderTypeAveragePacing",d="ReminderTypeElapsedTime",m="ReminderTypeDistance",p="ReminderTypeMovingTime",v="ReminderTypeStepCount",b="ReminderTypeStride",y="ReminderTypeAverageStride",f="ReminderTypeCadence",C="ReminderTypeAverageCadence",T="ReminderTypeLeftBalance",R="ReminderTypeRightBalance",x="CoachAutoPause",M="Metric",O="Imperial",P="evtCoachUnitChanged",S="evtCoachIntervalChanged";let k=(()=>{class t{constructor(t,i,e){this.platform=t,this.storage=i,this.events=e,this.unit=M,this.reminderInterval=0,this.heartRate=!1,this.pacing=!1,this.avgPacing=!1,this.elapsedTime=!1,this.distance=!1,this.movingTime=!1,this.stepCount=!1,this.stride=!1,this.avgStride=!1,this.cadence=!1,this.avgCadence=!1,this.leftBalance=!1,this.rightBalance=!1,this.autoPause=!0,this.getKey=t=>o+"-"+t,this.setUnit=t=>n.b(this,void 0,void 0,(function*(){if((t==O||t==M)&&t!=this.unit){this.unit=t;try{yield this.storage.set(this.getKey(c),t),this.events.publish(P)}catch(i){console.log(i)}}})),this.getUnit=()=>this.unit,this.setReminderInterval=t=>n.b(this,void 0,void 0,(function*(){if(t>=0&&t!=this.reminderInterval){this.reminderInterval=t;try{yield this.storage.set(this.getKey(h),t),this.events.publish(S)}catch(i){console.log(i)}}})),this.getReminderInterval=()=>this.reminderInterval,this.setReminderHeartRateTypeOn=t=>n.b(this,void 0,void 0,(function*(){if(t!=this.heartRate){this.heartRate=t;try{yield this.storage.set(this.getKey(r),t)}catch(i){console.log(i)}}})),this.getReminderHeartRateTypeOn=()=>this.heartRate,this.setReminderTypePacingOn=t=>n.b(this,void 0,void 0,(function*(){if(t!=this.pacing){this.pacing=t;try{yield this.storage.set(this.getKey(u),t)}catch(i){console.log(i)}}})),this.getReminderTypePacingOn=()=>this.pacing,this.setReminderTypeAveragePacingOn=t=>n.b(this,void 0,void 0,(function*(){if(t!=this.avgPacing){this.avgPacing=t;try{yield this.storage.set(this.getKey(g),t)}catch(i){console.log(i)}}})),this.getReminderTypeAveragePacingOn=()=>this.avgPacing,this.setReminderTypeElapsedTimeOn=t=>n.b(this,void 0,void 0,(function*(){if(t!=this.elapsedTime){this.elapsedTime=t;try{yield this.storage.set(this.getKey(d),t)}catch(i){console.log(i)}}})),this.getReminderTypeElapsedTimeOn=()=>this.elapsedTime,this.setReminderTypeDistanceOn=t=>n.b(this,void 0,void 0,(function*(){if(t!=this.distance){this.distance=t;try{yield this.storage.set(this.getKey(m),t)}catch(i){console.log(i)}}})),this.getReminderTypeDistanceOn=()=>this.distance,this.setReminderTypeMovingTimeOn=t=>n.b(this,void 0,void 0,(function*(){if(t!=this.movingTime){this.movingTime=t;try{yield this.storage.set(this.getKey(p),t)}catch(i){console.log(i)}}})),this.getReminderTypeMovingTimeOn=()=>this.movingTime,this.setReminderTypeStepCountOn=t=>n.b(this,void 0,void 0,(function*(){if(t!=this.stepCount){this.stepCount=t;try{yield this.storage.set(this.getKey(v),t)}catch(i){console.log(i)}}})),this.getReminderTypeStepCountOn=()=>this.stepCount,this.setReminderTypeStrideOn=t=>n.b(this,void 0,void 0,(function*(){if(t!=this.stride){this.stride=t;try{yield this.storage.set(this.getKey(b),t)}catch(i){console.log(i)}}})),this.getReminderTypeStrideOn=()=>this.stride,this.setReminderTypeAverageStrideOn=t=>n.b(this,void 0,void 0,(function*(){if(t!=this.avgStride){this.avgStride=t;try{yield this.storage.set(this.getKey(y),t)}catch(i){console.log(i)}}})),this.getReminderTypeAverageStrideOn=()=>this.avgStride,this.setReminderTypeCadenceOn=t=>n.b(this,void 0,void 0,(function*(){if(t!=this.cadence){this.cadence=t;try{yield this.storage.set(this.getKey(f),t)}catch(i){console.log(i)}}})),this.getReminderTypeCadenceOn=()=>this.cadence,this.setReminderTypeAverageCadenceOn=t=>n.b(this,void 0,void 0,(function*(){if(t!=this.avgCadence){this.avgCadence=t;try{yield this.storage.set(this.getKey(C),t)}catch(i){console.log(i)}}})),this.getReminderTypeAverageCadenceOn=()=>this.avgCadence,this.setReminderTypeLeftBalanceOn=t=>n.b(this,void 0,void 0,(function*(){if(t!=this.leftBalance){this.leftBalance=t;try{yield this.storage.set(this.getKey(T),t)}catch(i){console.log(i)}}})),this.getReminderTypeLeftBalanceOn=()=>this.leftBalance,this.setReminderTypeRightBalanceOn=t=>n.b(this,void 0,void 0,(function*(){if(t!=this.rightBalance){this.rightBalance=t;try{yield this.storage.set(this.getKey(R),t)}catch(i){console.log(i)}}})),this.getReminderTypeRightBalanceOn=()=>this.rightBalance,this.setCoachAutoPauseOn=t=>n.b(this,void 0,void 0,(function*(){if(t!=this.autoPause){this.autoPause=t;try{yield this.storage.set(this.getKey(x),t)}catch(i){console.log(i)}}})),this.getCoachAutoPauseOn=()=>this.autoPause,this.platform.ready().then(()=>{this.storage.get(this.getKey(c)).then(t=>{null!=t&&(this.unit=t)}).catch(t=>{console.log(t)}),this.storage.get(this.getKey(h)).then(t=>{null!=t&&(this.reminderInterval=Number(t))}).catch(t=>{console.log(t)}),this.storage.get(this.getKey(r)).then(t=>{null!=t&&(this.heartRate=Boolean(t))}).catch(t=>{console.log(t)}),this.storage.get(this.getKey(u)).then(t=>{null!=t&&(this.pacing=Boolean(t))}).catch(t=>{console.log(t)}),this.storage.get(this.getKey(g)).then(t=>{null!=t&&(this.avgPacing=Boolean(t))}).catch(t=>{console.log(t)}),this.storage.get(this.getKey(d)).then(t=>{null!=t&&(this.elapsedTime=Boolean(t))}).catch(t=>{console.log(t)}),this.storage.get(this.getKey(m)).then(t=>{null!=t&&(this.distance=Boolean(t))}).catch(t=>{console.log(t)}),this.storage.get(this.getKey(p)).then(t=>{null!=t&&(this.movingTime=Boolean(t))}).catch(t=>{console.log(t)}),this.storage.get(this.getKey(v)).then(t=>{null!=t&&(this.stepCount=Boolean(t))}).catch(t=>{console.log(t)}),this.storage.get(this.getKey(b)).then(t=>{null!=t&&(this.stride=Boolean(t))}).catch(t=>{console.log(t)}),this.storage.get(this.getKey(y)).then(t=>{null!=t&&(this.avgStride=Boolean(t))}).catch(t=>{console.log(t)}),this.storage.get(this.getKey(f)).then(t=>{null!=t&&(this.cadence=Boolean(t))}).catch(t=>{console.log(t)}),this.storage.get(this.getKey(C)).then(t=>{null!=t&&(this.avgCadence=Boolean(t))}).catch(t=>{console.log(t)}),this.storage.get(this.getKey(T)).then(t=>{null!=t&&(this.leftBalance=Boolean(t))}).catch(t=>{console.log(t)}),this.storage.get(this.getKey(R)).then(t=>{null!=t&&(this.rightBalance=Boolean(t))}).catch(t=>{console.log(t)}),this.storage.get(this.getKey(x)).then(t=>{null!=t&&(this.autoPause=Boolean(t))}).catch(t=>{console.log(t)})})}}return t.ngInjectableDef=l.ac({factory:function(){return new t(l.bc(s.Mb),l.bc(a.b),l.bc(s.f))},token:t,providedIn:"root"}),t})()}}]);