function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var t=0;t<e.length;t++){var l=e[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}function _createClass(n,e,t){return e&&_defineProperties(n.prototype,e),t&&_defineProperties(n,t),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{"78GA":function(n,e,t){"use strict";t.r(e);var l=t("8Y7J"),i=t("mrSG"),r=t("ZZ/e"),o=t("cPjO"),c=t("yYM5"),s=t("OUMn"),u=function(){function n(e,t,l,r,o,c){var s=this;_classCallCheck(this,n),this.heartRateService=e,this.zone=t,this.navCtrl=l,this.events=r,this.popupCtrl=o,this.platform=c,this.connectDevice=function(n){return i.b(s,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.stopScan();case 3:return e.next=5,this.presentConnectingAlert();case 5:this.heartRateService.connect(n.id),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})))},this.onDeviceConnected=function(n){s.zone.run((function(){return i.b(s,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.dismissConnectingAlert();case 3:this.navCtrl.pop(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,this,[[0,6]])})))}))},this.onDeviceDisconnected=function(n){s.zone.run((function(){return i.b(s,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.dismissConnectingAlert();case 3:this.startScan(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0.message);case 9:case"end":return n.stop()}}),n,this,[[0,6]])})))}))},this.startScan=function(){s.zone.run((function(){s.devices=[]})),s.heartRateService.startScan((function(n){0==s.devices.filter((function(e){return e.name==n.name})).length&&s.zone.run((function(){s.devices.push(n)}))}))},this.stopScan=function(){return i.b(s,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.heartRateService.stopScan();case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.log(n.t0);case 8:case"end":return n.stop()}}),n,this,[[0,5]])})))},this.presentConnectingAlert=function(){return i.b(s,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,void 0===this.subscribeAction&&(this.subscribeAction=this.platform.backButton.subscribeWithPriority(8964,(function(){}))),n.t0=void 0===this.connectingPrompt,!n.t0){n.next=7;break}return n.next=6,this.popupCtrl.presentLoadingController({spinner:"bubbles",translucent:!0});case 6:this.connectingPrompt=n.sent;case 7:n.next=12;break;case 9:n.prev=9,n.t1=n.catch(0),console.log(n.t1);case 12:case"end":return n.stop()}}),n,this,[[0,9]])})))},this.dismissConnectingAlert=function(){return i.b(s,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,void 0!==this.subscribeAction&&(this.subscribeAction.unsubscribe(),this.subscribeAction=void 0),n.t0=void 0!==this.connectingPrompt,!n.t0){n.next=7;break}return n.next=6,this.connectingPrompt.dismiss();case 6:this.connectingPrompt=void 0;case 7:n.next=12;break;case 9:n.prev=9,n.t1=n.catch(0),console.log(n.t1);case 12:case"end":return n.stop()}}),n,this,[[0,9]])})))}}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){this.events.subscribe(c.a,this.onDeviceConnected),this.events.subscribe(c.b,this.onDeviceDisconnected),this.startScan()}},{key:"ionViewWillLeave",value:function(){return i.b(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.events.unsubscribe(c.a,this.onDeviceConnected),this.events.unsubscribe(c.b,this.onDeviceDisconnected),n.next=5,this.stopScan();case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,this,[[0,7]])})))}}]),n}(),a=function n(){_classCallCheck(this,n)},b=t("pMnS"),p=t("oBZk"),h=t("TSSN"),v=t("SVse"),f=l.Ab({encapsulation:0,styles:[[""]],data:{}});function d(n){return l.Xb(0,[(n()(),l.Cb(0,0,null,null,5,"div",[],null,null,null,null,null)),(n()(),l.Cb(1,0,null,null,4,"ion-item",[["class","settings-item"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.connectDevice(n.context.$implicit)&&l),l}),p.W,p.o)),l.Bb(2,49152,null,0,r.J,[l.j,l.p,l.F],null,null),(n()(),l.Cb(3,0,null,0,2,"ion-label",[["color","settings-left-label"]],null,null,null,p.X,p.p)),l.Bb(4,49152,null,0,r.P,[l.j,l.p,l.F],{color:[0,"color"]},null),(n()(),l.Vb(5,0,["",""]))],(function(n,e){n(e,4,0,"settings-left-label")}),(function(n,e){n(e,5,0,e.context.$implicit.name)}))}function m(n){return l.Xb(0,[(n()(),l.Cb(0,0,null,null,12,"ion-header",[],null,null,null,p.Q,p.i)),l.Bb(1,49152,null,0,r.D,[l.j,l.p,l.F],null,null),(n()(),l.Cb(2,0,null,0,10,"ion-toolbar",[["class","settings-header-background"],["mode","ios"]],null,null,null,p.ob,p.G)),l.Bb(3,49152,null,0,r.Db,[l.j,l.p,l.F],{mode:[0,"mode"]},null),(n()(),l.Cb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,p.L,p.d)),l.Bb(5,49152,null,0,r.n,[l.j,l.p,l.F],null,null),(n()(),l.Cb(6,0,null,0,2,"ion-back-button",[["class","settings-back-button"],["text",""]],null,[[null,"click"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l.Ob(n,8).onClick(t)&&i),i}),p.J,p.b)),l.Bb(7,49152,null,0,r.i,[l.j,l.p,l.F],{text:[0,"text"]},null),l.Bb(8,16384,null,0,r.j,[[2,r.jb],r.Jb],null,null),(n()(),l.Cb(9,0,null,0,3,"ion-title",[["class","settings-header-title"]],null,null,null,p.mb,p.E)),l.Bb(10,49152,null,0,r.Bb,[l.j,l.p,l.F],null,null),(n()(),l.Vb(11,0,["",""])),l.Pb(131072,h.j,[h.k,l.j]),(n()(),l.Cb(13,0,null,null,15,"ion-content",[["class","settings-background ion-padding-top"]],null,null,null,p.O,p.g)),l.Bb(14,49152,null,0,r.w,[l.j,l.p,l.F],null,null),(n()(),l.Cb(15,0,null,0,13,"ion-list",[["class","settings-body"]],null,null,null,p.Z,p.q)),l.Bb(16,49152,null,0,r.Q,[l.j,l.p,l.F],null,null),(n()(),l.Cb(17,0,null,0,5,"ion-list-header",[["class","settings-item-header"]],null,null,null,p.Y,p.r)),l.Bb(18,49152,null,0,r.R,[l.j,l.p,l.F],null,null),(n()(),l.Cb(19,0,null,0,3,"ion-label",[],null,null,null,p.X,p.p)),l.Bb(20,49152,null,0,r.P,[l.j,l.p,l.F],null,null),(n()(),l.Vb(21,0,["",""])),l.Pb(131072,h.j,[h.k,l.j]),(n()(),l.rb(16777216,null,0,1,null,d)),l.Bb(24,278528,null,0,v.k,[l.X,l.T,l.x],{ngForOf:[0,"ngForOf"]},null),(n()(),l.Cb(25,0,null,0,3,"ion-item",[["class","settings-item"]],null,null,null,p.W,p.o)),l.Bb(26,49152,null,0,r.J,[l.j,l.p,l.F],null,null),(n()(),l.Cb(27,0,null,0,1,"ion-spinner",[["class","center"],["color","spinner"]],null,null,null,p.kb,p.C)),l.Bb(28,49152,null,0,r.tb,[l.j,l.p,l.F],{color:[0,"color"]},null)],(function(n,e){var t=e.component;n(e,3,0,"ios"),n(e,7,0,""),n(e,24,0,t.devices),n(e,28,0,"spinner")}),(function(n,e){n(e,11,0,l.Wb(e,11,0,l.Ob(e,12).transform("heart-rate-device.heart-rate-device"))),n(e,21,0,l.Wb(e,21,0,l.Ob(e,22).transform("heart-rate-device.choose-a-device")))}))}var g=l.yb("app-heart-rate-device-settings",u,(function(n){return l.Xb(0,[(n()(),l.Cb(0,0,null,null,1,"app-heart-rate-device-settings",[],null,null,null,m,f)),l.Bb(1,114688,null,0,u,[o.a,l.F,r.Jb,r.f,s.a,r.Mb],null,null)],(function(n,e){n(e,1,0)}),null)}),{},{},[]),k=t("s7LF"),C=t("iInd");t.d(e,"HeartRateDeviceSettingsPageModuleNgFactory",(function(){return x}));var x=l.zb(a,[],(function(n){return l.Lb([l.Mb(512,l.m,l.kb,[[8,[b.a,g]],[3,l.m],l.D]),l.Mb(4608,v.n,v.m,[l.z,[2,v.z]]),l.Mb(4608,k.j,k.j,[]),l.Mb(4608,r.c,r.c,[l.F,l.g]),l.Mb(4608,r.Ib,r.Ib,[r.c,l.m,l.w]),l.Mb(4608,r.Nb,r.Nb,[r.c,l.m,l.w]),l.Mb(4608,h.g,h.f,[]),l.Mb(4608,h.c,h.e,[]),l.Mb(4608,h.i,h.d,[]),l.Mb(4608,h.b,h.a,[]),l.Mb(4608,h.k,h.k,[h.l,h.g,h.c,h.i,h.b,h.m,h.n]),l.Mb(1073742336,v.b,v.b,[]),l.Mb(1073742336,k.i,k.i,[]),l.Mb(1073742336,k.b,k.b,[]),l.Mb(1073742336,r.Fb,r.Fb,[]),l.Mb(1073742336,h.h,h.h,[]),l.Mb(1073742336,C.o,C.o,[[2,C.t],[2,C.m]]),l.Mb(1073742336,a,a,[]),l.Mb(256,h.n,void 0,[]),l.Mb(256,h.m,void 0,[]),l.Mb(1024,C.k,(function(){return[[{path:"",component:u}]]}),[])])}))}}]);