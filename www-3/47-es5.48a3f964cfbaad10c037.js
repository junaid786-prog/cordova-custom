function _createForOfIteratorHelper(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,l=function(){};return{s:l,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==t.return||t.return()}finally{if(s)throw i}}}}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,n):void 0}}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{UF6s:function(e,n,t){"use strict";t.r(n);var r=t("8Y7J"),l=t("mrSG"),i=t("ZZ/e"),o=t("mHRm"),s=t("OUMn"),a=function(){function e(n,t,r,i,s){var a=this;_classCallCheck(this,e),this.translate=n,this.reminder=t,this.popupCtrl=r,this.zone=i,this.platform=s,this.waterReminderOn=!1,this.dow="--",this.fromTimeStr="--",this.toTimeStr="--",this.time="--",this.period="--",this.addingReminder=!1,this.viewDidEnter=!1,this.setDOW=function(e){switch(e){case o.a.Everyday:a.dow=a.everyday,a.dowValue=o.a.Everyday;break;case o.a.MonToFri:a.dow=a.mon2fri,a.dowValue=o.a.MonToFri;break;case o.a.MonToSat:a.dow=a.mon2sat,a.dowValue=o.a.MonToSat}a.updateSettings()},this.setTime=function(e,n){n<e||(a.fromTime=e,a.toTime=n,a.time=("0"+a.fromTime).slice(-2)+":00-"+("0"+a.toTime).slice(-2)+":59",a.updateSettings())},this.setFromTime=function(e){a.zone.run((function(){a.fromTime=e,a.fromTimeStr=("0"+Math.floor(a.fromTime/60)).slice(-2)+":"+("0"+a.fromTime%60).slice(-2),a.updateSettings()}))},this.setToTime=function(e){a.zone.run((function(){a.toTime=e,a.toTimeStr=("0"+Math.floor(a.toTime/60)).slice(-2)+":"+("0"+a.toTime%60).slice(-2),a.updateSettings()}))},this.setPeriod=function(e){a.zone.run((function(){a.periodValue=e,a.period=a.translate.instant("water-reminder.every")+" "+a.periodValue+" "+a.translate.instant("water-reminder.mins"),a.updateSettings()}))},this.setSoundType=function(e){a.soundType=e,e==o.c.Speech?a.reminderMethod="voice":e==o.c.Effect&&(a.reminderMethod="beep"),a.updateSettings()},this.enableBtnClick=function(){return l.b(a,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.viewDidEnter,!e.t0){e.next=10;break}return this.addingReminder=!0,e.next=5,this.reminder.removeReminder(o.d.DrinkWater);case 5:if(e.t1=this.waterReminderOn,!e.t1){e.next=9;break}return e.next=9,this.reminder.addReminder(o.d.DrinkWater);case 9:this.addingReminder=!1;case 10:case"end":return e.stop()}}),e,this)})))},this.dowClicked=function(){return l.b(a,void 0,void 0,regeneratorRuntime.mark((function e(){var n,t,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[this.everyday,this.mon2fri,this.mon2sat],this.platform.is("ios")&&(n=[this.everyday]),(t=[]).push({name:"dow",options:this.popupCtrl.getColumnOptions(n),selectedIndex:this.popupCtrl.getSelectedIndex(n,this.dow)}),this.popupCtrl.presentNativePickerController(t,(function(e){return l.b(r,void 0,void 0,regeneratorRuntime.mark((function n(){var t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0,n.t0=(this.zone.run((function(){t.dow=e[0].description})),this.dow),n.next=n.t0===this.everyday?4:n.t0===this.mon2fri?6:n.t0===this.mon2sat?8:9;break;case 4:return this.dowValue=o.a.Everyday,n.abrupt("break",9);case 6:return this.dowValue=o.a.MonToFri,n.abrupt("break",9);case 8:this.dowValue=o.a.MonToSat;case 9:this.updateSettings(),n.next=16;break;case 12:return n.prev=12,n.t1=n.catch(0),n.next=16,this.presentAlert(n.t1);case 16:case"end":return n.stop()}}),n,this,[[0,12]])})))}));case 4:case"end":return e.stop()}}),e,this)})))},this.fromTimeClick=function(){return l.b(a,void 0,void 0,regeneratorRuntime.mark((function e(){var n,t,r,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Array.from(new Array(24),(function(e,n){return n})),t=["00","30"],(r=[]).push({name:"hour",options:this.popupCtrl.getColumnOptions(n),selectedIndex:this.popupCtrl.getSelectedIndex(n,Math.floor(this.fromTime/60))}),r.push({name:"colon",options:this.popupCtrl.getColumnOptions([":"]),selectedIndex:0}),r.push({name:"minute",options:this.popupCtrl.getColumnOptions(t),selectedIndex:this.popupCtrl.getSelectedIndex(t,this.fromTime%60)}),this.popupCtrl.presentNativePickerController(r,(function(e){return l.b(i,void 0,void 0,regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0,t=60*Number(e[0].description)+Number(e[2].description),this.setFromTime(t),n.next=9;break;case 5:return n.prev=5,n.t0=n.catch(0),n.next=9,this.presentAlert(n.t0);case 9:case"end":return n.stop()}}),n,this,[[0,5]])})))}));case 3:case"end":return e.stop()}}),e,this)})))},this.toTimeClick=function(){return l.b(a,void 0,void 0,regeneratorRuntime.mark((function e(){var n,t,r,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Array.from(new Array(24),(function(e,n){return n})),t=["00","30"],(r=[]).push({name:"hour",options:this.popupCtrl.getColumnOptions(n),selectedIndex:this.popupCtrl.getSelectedIndex(n,Math.floor(this.toTime/60))}),r.push({name:"colon",options:this.popupCtrl.getColumnOptions([":"]),selectedIndex:0}),r.push({name:"minute",options:this.popupCtrl.getColumnOptions(t),selectedIndex:this.popupCtrl.getSelectedIndex(t,this.toTime%60)}),this.popupCtrl.presentNativePickerController(r,(function(e){return l.b(i,void 0,void 0,regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0,t=60*Number(e[0].description)+Number(e[2].description),this.setToTime(t),n.next=9;break;case 5:return n.prev=5,n.t0=n.catch(0),n.next=9,this.presentAlert(n.t0);case 9:case"end":return n.stop()}}),n,this,[[0,5]])})))}));case 3:case"end":return e.stop()}}),e,this)})))},this.everyClicked=function(){return l.b(a,void 0,void 0,regeneratorRuntime.mark((function e(){var n,t,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Array.from(new Array(10),(function(e,n){return 30*(n+1)})),(t=[]).push({name:"every",options:this.popupCtrl.getColumnOptions(n),selectedIndex:this.popupCtrl.getSelectedIndex(n,this.periodValue)}),this.popupCtrl.presentNativePickerController(t,(function(e){return l.b(r,void 0,void 0,regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0,t=Number(e[0].description),this.setPeriod(t),n.next=9;break;case 5:return n.prev=5,n.t0=n.catch(0),n.next=9,this.presentAlert(n.t0);case 9:case"end":return n.stop()}}),n,this,[[0,5]])})))}));case 3:case"end":return e.stop()}}),e,this)})))},this.updateSettings=function(){return l.b(a,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=this.viewDidEnter,!e.t0){e.next=5;break}return e.next=5,this.reminder.updateSettings(o.d.DrinkWater,this.dowValue,this.fromTime,this.toTime,this.periodValue,this.soundType);case 5:e.next=10;break;case 7:e.prev=7,e.t1=e.catch(0),console.log(e.t1);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})))},this.presentAlert=function(e){return l.b(a,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.popupCtrl.presentAlertController({header:this.translate.instant("global.error"),message:e.message,buttons:[{text:this.translate.instant("global.okay")}]},!0);case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.log(n.t0);case 8:case"end":return n.stop()}}),n,this,[[0,5]])})))},this.reminderMethodDidChange=function(e){"beep"==a.reminderMethod?a.soundType=o.c.Effect:"voice"==a.reminderMethod&&(a.soundType=o.c.Speech),a.updateSettings()}}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){this.everyday=this.translate.instant("water-reminder.everyday"),this.mon2fri=this.translate.instant("water-reminder.mon-fri"),this.mon2sat=this.translate.instant("water-reminder.mon-sat"),this.hours=this.translate.instant("water-reminder.hours"),this.waterReminderOn=this.reminder.isWaterReminderActivated();var e=this.reminder.queryReminder(o.d.DrinkWater);this.dowValue=e.dow,this.fromTime=e.fromTime,this.toTime=e.toTime,this.periodValue=e.period,this.soundType=e.soundType,this.setDOW(this.dowValue),this.setFromTime(this.fromTime),this.setToTime(this.toTime),this.setPeriod(this.periodValue),this.setSoundType(this.soundType)}},{key:"ionViewDidEnter",value:function(){this.viewDidEnter=!0}},{key:"ionViewWillLeave",value:function(){}}]),e}(),u=function e(){_classCallCheck(this,e)},c=t("pMnS"),d=t("oBZk"),b=t("TSSN"),m=t("s7LF"),p=r.Ab({encapsulation:0,styles:[['.intro-text-container[_ngcontent-%COMP%]{text-align:center;padding:1rem .5rem 1.5rem;position:relative;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;margin-bottom:1rem}.intro-text-container[_ngcontent-%COMP%]::before{content:"";background-image:url(water-reminder-banner.62daf4fb3e4aff77225c.png);background-size:cover;position:absolute;top:0;right:0;bottom:0;left:0;opacity:.5}.intro-text[_ngcontent-%COMP%]{color:var(--solos-color-a);position:relative}']],data:{}});function h(e){return r.Xb(0,[(e()(),r.Cb(0,0,null,null,12,"ion-header",[["style","background: var(--solos-color-b);"]],null,null,null,d.Q,d.i)),r.Bb(1,49152,null,0,i.D,[r.j,r.p,r.F],null,null),(e()(),r.Cb(2,0,null,0,10,"ion-toolbar",[["class","settings-header-background"],["mode","ios"]],null,null,null,d.ob,d.G)),r.Bb(3,49152,null,0,i.Db,[r.j,r.p,r.F],{mode:[0,"mode"]},null),(e()(),r.Cb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,d.L,d.d)),r.Bb(5,49152,null,0,i.n,[r.j,r.p,r.F],null,null),(e()(),r.Cb(6,0,null,0,2,"ion-back-button",[["class","settings-back-button"],["text",""]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==r.Ob(e,8).onClick(t)&&l),l}),d.J,d.b)),r.Bb(7,49152,null,0,i.i,[r.j,r.p,r.F],{text:[0,"text"]},null),r.Bb(8,16384,null,0,i.j,[[2,i.jb],i.Jb],null,null),(e()(),r.Cb(9,0,null,0,3,"ion-title",[["class","settings-header-title"]],null,null,null,d.mb,d.E)),r.Bb(10,49152,null,0,i.Bb,[r.j,r.p,r.F],null,null),(e()(),r.Vb(11,0,["",""])),r.Pb(131072,b.j,[b.k,r.j]),(e()(),r.Cb(13,0,null,null,96,"ion-content",[["class","settings-background"]],null,null,null,d.O,d.g)),r.Bb(14,49152,null,0,i.w,[r.j,r.p,r.F],null,null),(e()(),r.Cb(15,0,null,0,3,"div",[["class","intro-text-container"]],null,null,null,null,null)),(e()(),r.Cb(16,0,null,null,2,"div",[["class","intro-text"]],null,null,null,null,null)),(e()(),r.Vb(17,null,["",""])),r.Pb(131072,b.j,[b.k,r.j]),(e()(),r.Cb(19,0,null,0,90,"div",[["class","body-div"]],null,null,null,null,null)),(e()(),r.Cb(20,0,null,null,89,"ion-list",[["class","settings-body settings-div "]],null,null,null,d.Z,d.q)),r.Bb(21,49152,null,0,i.Q,[r.j,r.p,r.F],null,null),(e()(),r.Cb(22,0,null,0,12,"ion-item",[["class","settings-item"]],null,null,null,d.W,d.o)),r.Bb(23,49152,null,0,i.J,[r.j,r.p,r.F],null,null),(e()(),r.Cb(24,0,null,0,3,"ion-label",[["color","settings-left-label"]],null,null,null,d.X,d.p)),r.Bb(25,49152,null,0,i.P,[r.j,r.p,r.F],{color:[0,"color"]},null),(e()(),r.Vb(26,0,["",""])),r.Pb(131072,b.j,[b.k,r.j]),(e()(),r.Cb(28,0,null,0,6,"ion-toggle",[["class","item-toggle"],["color","solos-color-d"],["mode","md"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionChange"],[null,"ngModelChange"],[null,"ionBlur"]],(function(e,n,t){var l=!0,i=e.component;return"ionBlur"===n&&(l=!1!==r.Ob(e,29)._handleBlurEvent(t.target)&&l),"ionChange"===n&&(l=!1!==r.Ob(e,29)._handleIonChange(t.target)&&l),"ionChange"===n&&(l=!1!==i.enableBtnClick()&&l),"ngModelChange"===n&&(l=!1!==(i.waterReminderOn=t)&&l),l}),d.nb,d.F)),r.Bb(29,16384,null,0,i.d,[r.p],null,null),r.Sb(1024,null,m.c,(function(e){return[e]}),[i.d]),r.Bb(31,671744,null,0,m.h,[[8,null],[8,null],[8,null],[6,m.c]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),r.Sb(2048,null,m.d,null,[m.h]),r.Bb(33,16384,null,0,m.e,[[4,m.d]],null,null),r.Bb(34,49152,null,0,i.Cb,[r.j,r.p,r.F],{color:[0,"color"],disabled:[1,"disabled"],mode:[2,"mode"]},null),(e()(),r.Cb(35,0,null,0,5,"ion-list-header",[["class","settings-item-header"]],null,null,null,d.Y,d.r)),r.Bb(36,49152,null,0,i.R,[r.j,r.p,r.F],null,null),(e()(),r.Cb(37,0,null,0,3,"ion-label",[],null,null,null,d.X,d.p)),r.Bb(38,49152,null,0,i.P,[r.j,r.p,r.F],null,null),(e()(),r.Vb(39,0,["",""])),r.Pb(131072,b.j,[b.k,r.j]),(e()(),r.Cb(41,0,null,0,8,"ion-item",[["button",""],["class","settings-item"],["detail",""]],null,[[null,"click"]],(function(e,n,t){var r=!0;return"click"===n&&(r=!1!==e.component.dowClicked()&&r),r}),d.W,d.o)),r.Bb(42,49152,null,0,i.J,[r.j,r.p,r.F],{button:[0,"button"],detail:[1,"detail"],disabled:[2,"disabled"]},null),(e()(),r.Cb(43,0,null,0,3,"ion-label",[["color","settings-left-label"]],null,null,null,d.X,d.p)),r.Bb(44,49152,null,0,i.P,[r.j,r.p,r.F],{color:[0,"color"]},null),(e()(),r.Vb(45,0,["",""])),r.Pb(131072,b.j,[b.k,r.j]),(e()(),r.Cb(47,0,null,0,2,"ion-label",[["class","ion-text-right"],["color","settings-right-label"]],null,null,null,d.X,d.p)),r.Bb(48,49152,null,0,i.P,[r.j,r.p,r.F],{color:[0,"color"]},null),(e()(),r.Vb(49,0,["",""])),(e()(),r.Cb(50,0,null,0,8,"ion-item",[["button",""],["class","settings-item"],["detail",""]],null,[[null,"click"]],(function(e,n,t){var r=!0;return"click"===n&&(r=!1!==e.component.fromTimeClick()&&r),r}),d.W,d.o)),r.Bb(51,49152,null,0,i.J,[r.j,r.p,r.F],{button:[0,"button"],detail:[1,"detail"],disabled:[2,"disabled"]},null),(e()(),r.Cb(52,0,null,0,3,"ion-label",[["color","settings-left-label"]],null,null,null,d.X,d.p)),r.Bb(53,49152,null,0,i.P,[r.j,r.p,r.F],{color:[0,"color"]},null),(e()(),r.Vb(54,0,["",""])),r.Pb(131072,b.j,[b.k,r.j]),(e()(),r.Cb(56,0,null,0,2,"ion-label",[["class","ion-text-right"],["color","settings-right-label"]],null,null,null,d.X,d.p)),r.Bb(57,49152,null,0,i.P,[r.j,r.p,r.F],{color:[0,"color"]},null),(e()(),r.Vb(58,0,["",""])),(e()(),r.Cb(59,0,null,0,8,"ion-item",[["button",""],["class","settings-item"],["detail",""]],null,[[null,"click"]],(function(e,n,t){var r=!0;return"click"===n&&(r=!1!==e.component.toTimeClick()&&r),r}),d.W,d.o)),r.Bb(60,49152,null,0,i.J,[r.j,r.p,r.F],{button:[0,"button"],detail:[1,"detail"],disabled:[2,"disabled"]},null),(e()(),r.Cb(61,0,null,0,3,"ion-label",[["color","settings-left-label"]],null,null,null,d.X,d.p)),r.Bb(62,49152,null,0,i.P,[r.j,r.p,r.F],{color:[0,"color"]},null),(e()(),r.Vb(63,0,["",""])),r.Pb(131072,b.j,[b.k,r.j]),(e()(),r.Cb(65,0,null,0,2,"ion-label",[["class","ion-text-right"],["color","settings-right-label"]],null,null,null,d.X,d.p)),r.Bb(66,49152,null,0,i.P,[r.j,r.p,r.F],{color:[0,"color"]},null),(e()(),r.Vb(67,0,["",""])),(e()(),r.Cb(68,0,null,0,8,"ion-item",[["button",""],["class","settings-item"],["detail",""]],null,[[null,"click"]],(function(e,n,t){var r=!0;return"click"===n&&(r=!1!==e.component.everyClicked()&&r),r}),d.W,d.o)),r.Bb(69,49152,null,0,i.J,[r.j,r.p,r.F],{button:[0,"button"],detail:[1,"detail"],disabled:[2,"disabled"]},null),(e()(),r.Cb(70,0,null,0,3,"ion-label",[["color","settings-left-label"]],null,null,null,d.X,d.p)),r.Bb(71,49152,null,0,i.P,[r.j,r.p,r.F],{color:[0,"color"]},null),(e()(),r.Vb(72,0,["",""])),r.Pb(131072,b.j,[b.k,r.j]),(e()(),r.Cb(74,0,null,0,2,"ion-label",[["class","ion-text-right"],["color","settings-right-label"]],null,null,null,d.X,d.p)),r.Bb(75,49152,null,0,i.P,[r.j,r.p,r.F],{color:[0,"color"]},null),(e()(),r.Vb(76,0,["",""])),(e()(),r.Cb(77,0,null,0,5,"ion-list-header",[["class","settings-item-header"]],null,null,null,d.Y,d.r)),r.Bb(78,49152,null,0,i.R,[r.j,r.p,r.F],null,null),(e()(),r.Cb(79,0,null,0,3,"ion-label",[],null,null,null,d.X,d.p)),r.Bb(80,49152,null,0,i.P,[r.j,r.p,r.F],null,null),(e()(),r.Vb(81,0,["",""])),r.Pb(131072,b.j,[b.k,r.j]),(e()(),r.Cb(83,0,null,0,26,"ion-item",[["class","settings-item"]],null,null,null,d.W,d.o)),r.Bb(84,49152,null,0,i.J,[r.j,r.p,r.F],{disabled:[0,"disabled"]},null),(e()(),r.Cb(85,0,null,0,3,"ion-label",[["color","settings-left-label"]],null,null,null,d.X,d.p)),r.Bb(86,49152,null,0,i.P,[r.j,r.p,r.F],{color:[0,"color"]},null),(e()(),r.Vb(87,0,["",""])),r.Pb(131072,b.j,[b.k,r.j]),(e()(),r.Cb(89,0,null,0,20,"ion-item",[["class","settings-right-segment-buttons"],["lines","none"]],null,null,null,d.W,d.o)),r.Bb(90,49152,null,0,i.J,[r.j,r.p,r.F],{lines:[0,"lines"]},null),(e()(),r.Cb(91,0,null,0,18,"ion-segment",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionChange"],[null,"ngModelChange"],[null,"ionBlur"]],(function(e,n,t){var l=!0,i=e.component;return"ionBlur"===n&&(l=!1!==r.Ob(e,92)._handleBlurEvent(t.target)&&l),"ionChange"===n&&(l=!1!==r.Ob(e,92)._handleChangeEvent(t.target)&&l),"ionChange"===n&&(l=!1!==i.reminderMethodDidChange(t)&&l),"ngModelChange"===n&&(l=!1!==(i.reminderMethod=t)&&l),l}),d.hb,d.y)),r.Bb(92,16384,null,0,i.Pb,[r.p],null,null),r.Sb(1024,null,m.c,(function(e){return[e]}),[i.Pb]),r.Bb(94,671744,null,0,m.h,[[8,null],[8,null],[8,null],[6,m.c]],{model:[0,"model"]},{update:"ngModelChange"}),r.Sb(2048,null,m.d,null,[m.h]),r.Bb(96,16384,null,0,m.e,[[4,m.d]],null,null),r.Bb(97,49152,null,0,i.mb,[r.j,r.p,r.F],null,null),(e()(),r.Cb(98,0,null,0,5,"ion-segment-button",[["class","settings-segment-button"],["mode","ios"],["value","voice"]],null,null,null,d.gb,d.z)),r.Bb(99,49152,null,0,i.nb,[r.j,r.p,r.F],{mode:[0,"mode"],value:[1,"value"]},null),(e()(),r.Cb(100,0,null,0,3,"ion-label",[],null,null,null,d.X,d.p)),r.Bb(101,49152,null,0,i.P,[r.j,r.p,r.F],null,null),(e()(),r.Vb(102,0,["",""])),r.Pb(131072,b.j,[b.k,r.j]),(e()(),r.Cb(104,0,null,0,5,"ion-segment-button",[["class","settings-segment-button"],["mode","ios"],["value","beep"]],null,null,null,d.gb,d.z)),r.Bb(105,49152,null,0,i.nb,[r.j,r.p,r.F],{mode:[0,"mode"],value:[1,"value"]},null),(e()(),r.Cb(106,0,null,0,3,"ion-label",[],null,null,null,d.X,d.p)),r.Bb(107,49152,null,0,i.P,[r.j,r.p,r.F],null,null),(e()(),r.Vb(108,0,["",""])),r.Pb(131072,b.j,[b.k,r.j])],(function(e,n){var t=n.component;e(n,3,0,"ios"),e(n,7,0,""),e(n,25,0,"settings-left-label"),e(n,31,0,t.addingReminder,t.waterReminderOn),e(n,34,0,"solos-color-d",t.addingReminder,"md"),e(n,42,0,"","",t.waterReminderOn),e(n,44,0,"settings-left-label"),e(n,48,0,"settings-right-label"),e(n,51,0,"","",t.waterReminderOn),e(n,53,0,"settings-left-label"),e(n,57,0,"settings-right-label"),e(n,60,0,"","",t.waterReminderOn),e(n,62,0,"settings-left-label"),e(n,66,0,"settings-right-label"),e(n,69,0,"","",t.waterReminderOn),e(n,71,0,"settings-left-label"),e(n,75,0,"settings-right-label"),e(n,84,0,t.waterReminderOn),e(n,86,0,"settings-left-label"),e(n,90,0,"none"),e(n,94,0,t.reminderMethod),e(n,99,0,"ios","voice"),e(n,105,0,"ios","beep")}),(function(e,n){var t=n.component;e(n,11,0,r.Wb(n,11,0,r.Ob(n,12).transform("water-reminder.title"))),e(n,17,0,r.Wb(n,17,0,r.Ob(n,18).transform("water-reminder.intro"))),e(n,26,0,r.Wb(n,26,0,r.Ob(n,27).transform("water-reminder.enable"))),e(n,28,0,r.Ob(n,33).ngClassUntouched,r.Ob(n,33).ngClassTouched,r.Ob(n,33).ngClassPristine,r.Ob(n,33).ngClassDirty,r.Ob(n,33).ngClassValid,r.Ob(n,33).ngClassInvalid,r.Ob(n,33).ngClassPending),e(n,39,0,r.Wb(n,39,0,r.Ob(n,40).transform("water-reminder.schedule"))),e(n,45,0,r.Wb(n,45,0,r.Ob(n,46).transform("water-reminder.day-of-week"))),e(n,49,0,t.dow),e(n,54,0,r.Wb(n,54,0,r.Ob(n,55).transform("water-reminder.wakeup-time"))),e(n,58,0,t.fromTimeStr),e(n,63,0,r.Wb(n,63,0,r.Ob(n,64).transform("water-reminder.sleep-time"))),e(n,67,0,t.toTimeStr),e(n,72,0,r.Wb(n,72,0,r.Ob(n,73).transform("water-reminder.interval"))),e(n,76,0,t.period),e(n,81,0,r.Wb(n,81,0,r.Ob(n,82).transform("water-reminder.notification"))),e(n,87,0,r.Wb(n,87,0,r.Ob(n,88).transform("monitoring.reminder-method"))),e(n,91,0,r.Ob(n,96).ngClassUntouched,r.Ob(n,96).ngClassTouched,r.Ob(n,96).ngClassPristine,r.Ob(n,96).ngClassDirty,r.Ob(n,96).ngClassValid,r.Ob(n,96).ngClassInvalid,r.Ob(n,96).ngClassPending),e(n,102,0,r.Wb(n,102,0,r.Ob(n,103).transform("monitoring.voice"))),e(n,108,0,r.Wb(n,108,0,r.Ob(n,109).transform("monitoring.beep")))}))}var f=r.yb("app-drink-water-reminder",a,(function(e){return r.Xb(0,[(e()(),r.Cb(0,0,null,null,1,"app-drink-water-reminder",[],null,null,null,h,p)),r.Bb(1,114688,null,0,a,[b.k,o.b,s.a,r.F,i.Mb],null,null)],(function(e,n){e(n,1,0)}),null)}),{},{},[]),g=t("SVse"),v=t("iInd");t.d(n,"DrinkWaterReminderPageModuleNgFactory",(function(){return k}));var k=r.zb(u,[],(function(e){return r.Lb([r.Mb(512,r.m,r.kb,[[8,[c.a,f]],[3,r.m],r.D]),r.Mb(4608,g.n,g.m,[r.z,[2,g.z]]),r.Mb(4608,m.j,m.j,[]),r.Mb(4608,i.c,i.c,[r.F,r.g]),r.Mb(4608,i.Ib,i.Ib,[i.c,r.m,r.w]),r.Mb(4608,i.Nb,i.Nb,[i.c,r.m,r.w]),r.Mb(4608,b.g,b.f,[]),r.Mb(4608,b.c,b.e,[]),r.Mb(4608,b.i,b.d,[]),r.Mb(4608,b.b,b.a,[]),r.Mb(4608,b.k,b.k,[b.l,b.g,b.c,b.i,b.b,b.m,b.n]),r.Mb(1073742336,g.b,g.b,[]),r.Mb(1073742336,m.i,m.i,[]),r.Mb(1073742336,m.b,m.b,[]),r.Mb(1073742336,i.Fb,i.Fb,[]),r.Mb(1073742336,b.h,b.h,[]),r.Mb(1073742336,v.o,v.o,[[2,v.t],[2,v.m]]),r.Mb(1073742336,u,u,[]),r.Mb(256,b.n,void 0,[]),r.Mb(256,b.m,void 0,[]),r.Mb(1024,v.k,(function(){return[[{path:"",component:a}]]}),[])])}))},mHRm:function(e,n,t){"use strict";t.d(n,"d",(function(){return a})),t.d(n,"c",(function(){return u})),t.d(n,"a",(function(){return c})),t.d(n,"b",(function(){return m}));var r=t("mrSG"),l=t("ZZ/e"),i=t("8Y7J"),o=t("xgBC"),s=t("TSSN"),a=function(e){return e[e.DrinkWater=1]="DrinkWater",e}({}),u=function(e){return e[e.Speech=0]="Speech",e[e.Effect=1]="Effect",e}({}),c=function(e){return e[e.Everyday=0]="Everyday",e[e.MonToFri=1]="MonToFri",e[e.MonToSat=2]="MonToSat",e}({}),d="ReminderTypeDrinkWater",b="ReminderTypeDrinkWaterSettingsV2",m=function(){var e=function(){function e(n,t,l){var i=this;_classCallCheck(this,e),this.platform=n,this.storage=t,this.translate=l,this.waterReminderSettings=null,this.isWaterReminderOn=!1,this.addReminder=function(e){return r.b(i,void 0,void 0,regeneratorRuntime.mark((function n(){var t,r,l,i,o,s,c,b,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,e!=a.DrinkWater){n.next=13;break}if(1!=this.isWaterReminderOn){n.next=4;break}return n.abrupt("return");case 4:t=this.getReminderIdListFromToken(e,this.waterReminderSettings),r=this.platform.is("ios")?"file://assets/sound/normal-beep.mp3":"res://normal_beep","effectChannel",l="",i="","zh-hant-hk"==this.translate.currentLang?(l=this.platform.is("ios")?"file://assets/sound/drink_water_reminder_cantonese.mp3":"res://drink_water_reminder_cantonese",i="hkChannel"):"zh-hant"==this.translate.currentLang||"zh-hans"==this.translate.currentLang?(l=this.platform.is("ios")?"file://assets/sound/drink_water_reminder_schi.mp3":"res://drink_water_reminder_schi",i="zhChannel"):(l=this.platform.is("ios")?"file://assets/sound/drink_water_reminder.mp3":"res://drink_water_reminder",i="enChannel"),o=_createForOfIteratorHelper(t);try{for(o.s();!(s=o.n()).done;)c=s.value,b=c.soundType==u.Effect?r:l,m=c.soundType==u.Effect?"effectChannel":i,cordova.plugins.notification.local.schedule({id:c.id,title:this.translate.instant("solos-air.solos-air"),text:this.translate.instant("ai-care.drink-water-prompt-message"),sound:b,channel:m,vibrate:!0,priority:2,trigger:c.trigger})}catch(p){o.e(p)}finally{o.f()}return this.isWaterReminderOn=!0,n.next=13,this.storage.set(d,this.isWaterReminderOn);case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(0),console.log(n.t0.message);case 18:case"end":return n.stop()}}),n,this,[[0,15]])})))},this.removeReminder=function(e){return r.b(i,void 0,void 0,regeneratorRuntime.mark((function n(){var t,l=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,e!=a.DrinkWater){n.next=7;break}if(0!=this.isWaterReminderOn){n.next=4;break}return n.abrupt("return");case 4:return t=this.getReminderIdListFromToken(e,this.waterReminderSettings).map((function(e){return e.id})),n.next=7,cordova.plugins.notification.local.cancel(t,(function(){return r.b(l,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isWaterReminderOn=!1,e.next=3,this.storage.set(d,this.isWaterReminderOn);case 3:case"end":return e.stop()}}),e,this)})))}));case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0.message);case 12:case"end":return n.stop()}}),n,this,[[0,9]])})))},this.queryReminder=function(e){var n=null;if(e==a.DrinkWater&&(n=i.waterReminderSettings),null!=n){var t,r=n.split("-"),l=parseInt(r[0],16),o=parseInt(r[1],16),s=parseInt(r[2],16),d=parseInt(r[3],16);if(127==l)t=c.Everyday;else if(126==l)t=c.MonToSat;else{if(124!=l)return null;t=c.MonToFri}return{dow:t,fromTime:o,toTime:s,period:d,soundType:u[r[4]]}}return null},this.isWaterReminderActivated=function(){return i.isWaterReminderOn},this.updateSettings=function(e,n,t,l,o,s){return r.b(i,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,r.t0=e==a.DrinkWater,!r.t0){r.next=6;break}return this.waterReminderSettings=this.getTokenFromReminder(n,t,l,o,s),r.next=6,this.storage.set(b,this.waterReminderSettings);case 6:r.next=11;break;case 8:r.prev=8,r.t1=r.catch(0),console.log(r.t1);case 11:case"end":return r.stop()}}),r,this,[[0,8]])})))},this.platform.ready().then((function(){return r.b(i,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.storage.get(d);case 3:return null!=(n=e.sent)&&(this.isWaterReminderOn=n),e.next=7,this.storage.get(b);case 7:if(this.waterReminderSettings=e.sent,null!=this.waterReminderSettings){e.next=12;break}this.platform.is("ios")?this.updateSettings(a.DrinkWater,c.Everyday,420,1200,120,u.Speech):this.updateSettings(a.DrinkWater,c.MonToFri,420,1200,120,u.Speech),e.next=19;break;case 12:if(e.t0=this.platform.is("ios")&&this.queryReminder(a.DrinkWater).dow!=c.Everyday,!e.t0){e.next=19;break}if(e.t1=this.isWaterReminderOn,!e.t1){e.next=18;break}return e.next=18,this.removeReminder(a.DrinkWater);case 18:this.updateSettings(a.DrinkWater,c.Everyday,420,1200,120,u.Speech);case 19:e.next=24;break;case 21:e.prev=21,e.t2=e.catch(0),console.log(e.t2);case 24:case"end":return e.stop()}}),e,this,[[0,21]])})))}))}return _createClass(e,[{key:"getTokenFromReminder",value:function(e,n,t,r,l){var i="";return e==c.Everyday?i+=127..toString(16):e==c.MonToFri?i+=124..toString(16):e==c.MonToSat&&(i+=126..toString(16)),i+="-"+n.toString(16),i+="-"+t.toString(16),(i+="-"+r.toString(16))+"-"+u[l]}},{key:"getReminderIdListFromToken",value:function(e,n){var t=n.split("-"),r=parseInt(t[0],16),l=parseInt(t[1],16),i=parseInt(t[2],16);i<=l&&(i+=1440);var o=parseInt(t[3],16),s=u[t[4]],a=[];if(127==r)for(var c=l;c<i;c+=o)a.push({id:1e5*e+8e4+c,trigger:{every:{hour:Math.floor(c/60)%24,minute:c%60}},soundType:s});else for(var d=64,b=1;d>0;b++,d>>=1)if(r&d)for(var m=l;m<i;m+=o)a.push({id:1e5*e+1e4*b+m,trigger:{every:{weekday:b,hour:Math.floor(m/60)%24,minute:m%60}},soundType:s});return a}}]),e}();return e.ngInjectableDef=i.ac({factory:function(){return new e(i.bc(l.Mb),i.bc(o.b),i.bc(s.k))},token:e,providedIn:"root"}),e}()}}]);