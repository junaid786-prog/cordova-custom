(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{"78GA":function(n,l,t){"use strict";t.r(l);var i=t("8Y7J"),e=t("mrSG"),s=t("ZZ/e"),o=t("cPjO"),c=t("yYM5"),u=t("OUMn");class b{constructor(n,l,t,i,s,o){this.heartRateService=n,this.zone=l,this.navCtrl=t,this.events=i,this.popupCtrl=s,this.platform=o,this.connectDevice=n=>e.b(this,void 0,void 0,(function*(){try{yield this.stopScan(),yield this.presentConnectingAlert(),this.heartRateService.connect(n.id)}catch(l){console.log(l)}})),this.onDeviceConnected=n=>{this.zone.run(()=>e.b(this,void 0,void 0,(function*(){try{yield this.dismissConnectingAlert(),this.navCtrl.pop()}catch(n){console.log(n)}})))},this.onDeviceDisconnected=n=>{this.zone.run(()=>e.b(this,void 0,void 0,(function*(){try{yield this.dismissConnectingAlert(),this.startScan()}catch(n){console.log(n.message)}})))},this.startScan=()=>{this.zone.run(()=>{this.devices=[]}),this.heartRateService.startScan(n=>{0==this.devices.filter(l=>l.name==n.name).length&&this.zone.run(()=>{this.devices.push(n)})})},this.stopScan=()=>e.b(this,void 0,void 0,(function*(){try{yield this.heartRateService.stopScan()}catch(n){console.log(n)}})),this.presentConnectingAlert=()=>e.b(this,void 0,void 0,(function*(){try{void 0===this.subscribeAction&&(this.subscribeAction=this.platform.backButton.subscribeWithPriority(8964,()=>{})),void 0===this.connectingPrompt&&(this.connectingPrompt=yield this.popupCtrl.presentLoadingController({spinner:"bubbles",translucent:!0}))}catch(n){console.log(n)}})),this.dismissConnectingAlert=()=>e.b(this,void 0,void 0,(function*(){try{void 0!==this.subscribeAction&&(this.subscribeAction.unsubscribe(),this.subscribeAction=void 0),void 0!==this.connectingPrompt&&(yield this.connectingPrompt.dismiss(),this.connectingPrompt=void 0)}catch(n){console.log(n)}}))}ngOnInit(){}ionViewWillEnter(){this.events.subscribe(c.a,this.onDeviceConnected),this.events.subscribe(c.b,this.onDeviceDisconnected),this.startScan()}ionViewWillLeave(){return e.b(this,void 0,void 0,(function*(){try{this.events.unsubscribe(c.a,this.onDeviceConnected),this.events.unsubscribe(c.b,this.onDeviceDisconnected),yield this.stopScan()}catch(n){console.log(n)}}))}}class r{}var a=t("pMnS"),h=t("oBZk"),d=t("TSSN"),p=t("SVse"),v=i.Ab({encapsulation:0,styles:[[""]],data:{}});function g(n){return i.Xb(0,[(n()(),i.Cb(0,0,null,null,5,"div",[],null,null,null,null,null)),(n()(),i.Cb(1,0,null,null,4,"ion-item",[["class","settings-item"]],null,[[null,"click"]],(function(n,l,t){var i=!0;return"click"===l&&(i=!1!==n.component.connectDevice(n.context.$implicit)&&i),i}),h.W,h.o)),i.Bb(2,49152,null,0,s.J,[i.j,i.p,i.F],null,null),(n()(),i.Cb(3,0,null,0,2,"ion-label",[["color","settings-left-label"]],null,null,null,h.X,h.p)),i.Bb(4,49152,null,0,s.P,[i.j,i.p,i.F],{color:[0,"color"]},null),(n()(),i.Vb(5,0,["",""]))],(function(n,l){n(l,4,0,"settings-left-label")}),(function(n,l){n(l,5,0,l.context.$implicit.name)}))}function m(n){return i.Xb(0,[(n()(),i.Cb(0,0,null,null,12,"ion-header",[],null,null,null,h.Q,h.i)),i.Bb(1,49152,null,0,s.D,[i.j,i.p,i.F],null,null),(n()(),i.Cb(2,0,null,0,10,"ion-toolbar",[["class","settings-header-background"],["mode","ios"]],null,null,null,h.ob,h.G)),i.Bb(3,49152,null,0,s.Db,[i.j,i.p,i.F],{mode:[0,"mode"]},null),(n()(),i.Cb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,h.L,h.d)),i.Bb(5,49152,null,0,s.n,[i.j,i.p,i.F],null,null),(n()(),i.Cb(6,0,null,0,2,"ion-back-button",[["class","settings-back-button"],["text",""]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==i.Ob(n,8).onClick(t)&&e),e}),h.J,h.b)),i.Bb(7,49152,null,0,s.i,[i.j,i.p,i.F],{text:[0,"text"]},null),i.Bb(8,16384,null,0,s.j,[[2,s.jb],s.Jb],null,null),(n()(),i.Cb(9,0,null,0,3,"ion-title",[["class","settings-header-title"]],null,null,null,h.mb,h.E)),i.Bb(10,49152,null,0,s.Bb,[i.j,i.p,i.F],null,null),(n()(),i.Vb(11,0,["",""])),i.Pb(131072,d.j,[d.k,i.j]),(n()(),i.Cb(13,0,null,null,15,"ion-content",[["class","settings-background ion-padding-top"]],null,null,null,h.O,h.g)),i.Bb(14,49152,null,0,s.w,[i.j,i.p,i.F],null,null),(n()(),i.Cb(15,0,null,0,13,"ion-list",[["class","settings-body"]],null,null,null,h.Z,h.q)),i.Bb(16,49152,null,0,s.Q,[i.j,i.p,i.F],null,null),(n()(),i.Cb(17,0,null,0,5,"ion-list-header",[["class","settings-item-header"]],null,null,null,h.Y,h.r)),i.Bb(18,49152,null,0,s.R,[i.j,i.p,i.F],null,null),(n()(),i.Cb(19,0,null,0,3,"ion-label",[],null,null,null,h.X,h.p)),i.Bb(20,49152,null,0,s.P,[i.j,i.p,i.F],null,null),(n()(),i.Vb(21,0,["",""])),i.Pb(131072,d.j,[d.k,i.j]),(n()(),i.rb(16777216,null,0,1,null,g)),i.Bb(24,278528,null,0,p.k,[i.X,i.T,i.x],{ngForOf:[0,"ngForOf"]},null),(n()(),i.Cb(25,0,null,0,3,"ion-item",[["class","settings-item"]],null,null,null,h.W,h.o)),i.Bb(26,49152,null,0,s.J,[i.j,i.p,i.F],null,null),(n()(),i.Cb(27,0,null,0,1,"ion-spinner",[["class","center"],["color","spinner"]],null,null,null,h.kb,h.C)),i.Bb(28,49152,null,0,s.tb,[i.j,i.p,i.F],{color:[0,"color"]},null)],(function(n,l){var t=l.component;n(l,3,0,"ios"),n(l,7,0,""),n(l,24,0,t.devices),n(l,28,0,"spinner")}),(function(n,l){n(l,11,0,i.Wb(l,11,0,i.Ob(l,12).transform("heart-rate-device.heart-rate-device"))),n(l,21,0,i.Wb(l,21,0,i.Ob(l,22).transform("heart-rate-device.choose-a-device")))}))}function f(n){return i.Xb(0,[(n()(),i.Cb(0,0,null,null,1,"app-heart-rate-device-settings",[],null,null,null,m,v)),i.Bb(1,114688,null,0,b,[o.a,i.F,s.Jb,s.f,u.a,s.Mb],null,null)],(function(n,l){n(l,1,0)}),null)}var C=i.yb("app-heart-rate-device-settings",b,f,{},{},[]),M=t("s7LF"),j=t("iInd");t.d(l,"HeartRateDeviceSettingsPageModuleNgFactory",(function(){return k}));var k=i.zb(r,[],(function(n){return i.Lb([i.Mb(512,i.m,i.kb,[[8,[a.a,C]],[3,i.m],i.D]),i.Mb(4608,p.n,p.m,[i.z,[2,p.z]]),i.Mb(4608,M.j,M.j,[]),i.Mb(4608,s.c,s.c,[i.F,i.g]),i.Mb(4608,s.Ib,s.Ib,[s.c,i.m,i.w]),i.Mb(4608,s.Nb,s.Nb,[s.c,i.m,i.w]),i.Mb(4608,d.g,d.f,[]),i.Mb(4608,d.c,d.e,[]),i.Mb(4608,d.i,d.d,[]),i.Mb(4608,d.b,d.a,[]),i.Mb(4608,d.k,d.k,[d.l,d.g,d.c,d.i,d.b,d.m,d.n]),i.Mb(1073742336,p.b,p.b,[]),i.Mb(1073742336,M.i,M.i,[]),i.Mb(1073742336,M.b,M.b,[]),i.Mb(1073742336,s.Fb,s.Fb,[]),i.Mb(1073742336,d.h,d.h,[]),i.Mb(1073742336,j.o,j.o,[[2,j.t],[2,j.m]]),i.Mb(1073742336,r,r,[]),i.Mb(256,d.n,void 0,[]),i.Mb(256,d.m,void 0,[]),i.Mb(1024,j.k,(function(){return[[{path:"",component:b}]]}),[])])}))}}]);