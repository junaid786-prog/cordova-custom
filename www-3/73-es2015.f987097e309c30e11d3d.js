(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{fXu9:function(t,l,e){"use strict";e.r(l);var n=e("8Y7J"),i=e("mrSG"),s=e("ZZ/e"),o=e("Z18M"),r=e("OUMn");class u{constructor(t,l,e,n,s){this.navCtrl=t,this.backend=l,this.translate=e,this.popupCtrl=n,this.zone=s,this.emailAddr="",this.name="",this.age="--",this.gender="--",this.heightValue=0,this.height="--",this.weightValue=0,this.weight="--",this.loading=null,this.logoutClicked=()=>i.b(this,void 0,void 0,(function*(){try{yield this.backend.signOut(),this.navCtrl.pop()}catch(t){console.error(t)}})),this.setHeight=t=>{this.zone.run(()=>{this.heightValue=t,this.height=0!=this.heightValue?String(this.heightValue)+" "+this.cm:"-- "+this.cm})},this.setWeight=t=>{this.zone.run(()=>{this.weightValue=t,this.weight=0!=this.weightValue?String(this.weightValue/1e3)+" "+this.kg:"-- "+this.kg})},this.presentLoadingCtrl=()=>i.b(this,void 0,void 0,(function*(){if(null==this.loading)try{this.loading=yield this.popupCtrl.presentLoadingController({spinner:"bubbles",translucent:!0})}catch(t){console.log(t),this.loading=null}})),this.dismissLoadingCtrl=()=>i.b(this,void 0,void 0,(function*(){if(null!=this.loading)try{yield this.loading.dismiss(),this.loading=null}catch(t){this.loading=null}})),this.presentAlert=t=>i.b(this,void 0,void 0,(function*(){try{yield this.popupCtrl.presentAlertController({header:this.translate.instant("global.error"),message:t.message,buttons:[{text:this.translate.instant("global.okay")}]},!0)}catch(t){console.log(t)}})),this.nameClicked=()=>i.b(this,void 0,void 0,(function*(){yield this.popupCtrl.presentAlertController({header:this.translate.instant("profile-setting.your-name"),inputs:[{name:"name",type:"text",value:this.name}],buttons:[{text:this.translate.instant("global.cancel"),role:"cancel"},{text:this.translate.instant("global.okay"),handler:t=>i.b(this,void 0,void 0,(function*(){this.name=t.name,this.backend.saveName(this.currentUser,this.name)}))}]})})),this.ageClicked=()=>i.b(this,void 0,void 0,(function*(){const t=Array.from(new Array(9),(t,l)=>l+1);let l=[];l.push({name:"ageTen",options:this.popupCtrl.getColumnOptions(t),selectedIndex:this.popupCtrl.getSelectedIndex(t,String(Math.floor(Number(this.age)/10)))});const e=Array.from(new Array(10),(t,l)=>l);l.push({name:"ageDigit",options:this.popupCtrl.getColumnOptions(e),selectedIndex:this.popupCtrl.getSelectedIndex(e,String(Number(this.age)%10))}),this.popupCtrl.presentNativePickerController(l,t=>i.b(this,void 0,void 0,(function*(){try{yield this.presentLoadingCtrl(),this.zone.run(()=>{this.age=String(10*Number(t[0].description)+Number(t[1].description))}),yield this.backend.saveAge(this.currentUser,Number(this.age)),yield this.dismissLoadingCtrl()}catch(l){yield this.dismissLoadingCtrl(),yield this.presentAlert(l)}})))})),this.genderClicked=()=>i.b(this,void 0,void 0,(function*(){const t=[this.male,this.female];let l=[];l.push({name:"gender",options:this.popupCtrl.getColumnOptions(t),selectedIndex:this.popupCtrl.getSelectedIndex(t,this.gender)}),this.popupCtrl.presentNativePickerController(l,t=>i.b(this,void 0,void 0,(function*(){try{yield this.presentLoadingCtrl(),this.zone.run(()=>{this.gender=t[0].description});let l=o.b.Unknown;this.gender==this.male?l=o.b.Male:this.gender==this.female&&(l=o.b.Female),yield this.backend.saveGender(this.currentUser,l),yield this.dismissLoadingCtrl()}catch(l){yield this.dismissLoadingCtrl(),yield this.presentAlert(l)}})))})),this.heightClicked=()=>i.b(this,void 0,void 0,(function*(){const t=Array.from(new Array(3),(t,l)=>l),l=Array.from(new Array(10),(t,l)=>l),e=Array.from(new Array(10),(t,l)=>l);let n=[];n.push({name:"hundreds",options:this.popupCtrl.getColumnOptions(t),selectedIndex:this.popupCtrl.getSelectedIndex(t,Math.floor(this.heightValue/100))}),n.push({name:"tens",options:this.popupCtrl.getColumnOptions(l),selectedIndex:this.popupCtrl.getSelectedIndex(l,Math.floor(this.heightValue/10)%10)}),n.push({name:"ones",options:this.popupCtrl.getColumnOptions(e),selectedIndex:this.popupCtrl.getSelectedIndex(e,this.heightValue%10)}),n.push({name:"unit",options:this.popupCtrl.getColumnOptions([this.cm]),selectedIndex:0}),this.popupCtrl.presentNativePickerController(n,t=>i.b(this,void 0,void 0,(function*(){try{yield this.presentLoadingCtrl();let l=100*Number(t[0].description)+10*Number(t[1].description)+Number(t[2].description);l<90?yield this.presentAlert({message:this.translate.instant("profile-setting.should-equal-greater-90")}):(this.setHeight(l),yield this.backend.saveHeight(this.currentUser,this.heightValue)),yield this.dismissLoadingCtrl()}catch(l){yield this.dismissLoadingCtrl(),yield this.presentAlert(l)}})))})),this.weightClicked=()=>i.b(this,void 0,void 0,(function*(){const t=Array.from(new Array(2),(t,l)=>l),l=Array.from(new Array(10),(t,l)=>l),e=Array.from(new Array(10),(t,l)=>l),n=Array.from(new Array(10),(t,l)=>"."+l);let s=[];s.push({name:"hundreds",options:this.popupCtrl.getColumnOptions(t),selectedIndex:this.popupCtrl.getSelectedIndex(t,Math.floor(this.weightValue/1e3/100))}),s.push({name:"tens",options:this.popupCtrl.getColumnOptions(l),selectedIndex:this.popupCtrl.getSelectedIndex(l,Math.floor(this.weightValue/1e3/10)%10)}),s.push({name:"ones",options:this.popupCtrl.getColumnOptions(e),selectedIndex:this.popupCtrl.getSelectedIndex(e,Math.floor(this.weightValue/1e3)%10)}),s.push({name:"float",options:this.popupCtrl.getColumnOptions(n),selectedIndex:this.popupCtrl.getSelectedIndex(n,String((this.weightValue/1e3-Math.floor(this.weightValue/1e3)).toFixed(1)).substr(1))}),s.push({name:"unit",options:this.popupCtrl.getColumnOptions([this.kg]),selectedIndex:0}),this.popupCtrl.presentNativePickerController(s,t=>i.b(this,void 0,void 0,(function*(){try{yield this.presentLoadingCtrl();const l=100*Number(t[0].description)+10*Number(t[1].description)+Number(t[2].description+t[3].description);this.setWeight(1e3*l),yield this.backend.saveWeight(this.currentUser,this.weightValue),yield this.dismissLoadingCtrl()}catch(l){yield this.dismissLoadingCtrl(),yield this.presentAlert(l)}})))}))}ngOnInit(){}ionViewWillEnter(){this.male=this.translate.instant("profile-setting.male"),this.female=this.translate.instant("profile-setting.female"),this.cm=this.translate.instant("profile-setting.cm"),this.kg=this.translate.instant("profile-setting.kg"),this.lb=this.translate.instant("profile-setting.lb"),this.currentUser=this.backend.getLoginUser(),this.emailAddr=this.currentUser.getUsername(),this.name=this.backend.getName(this.currentUser);const t=this.backend.getAge(this.currentUser);0!=t&&(this.age=String(t));const l=this.backend.getGender(this.currentUser);l==o.b.Male?this.gender=this.male:l==o.b.Female&&(this.gender=this.female),this.setHeight(this.backend.getHeight(this.currentUser)),this.setWeight(this.backend.getWeight(this.currentUser))}ionViewDidEnter(){}ionViewWillLeave(){}}class a{}var h=e("pMnS"),b=e("oBZk"),c=e("TSSN"),d=n.Ab({encapsulation:0,styles:[[".body-div[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:start;justify-content:flex-start;-webkit-box-align:center;align-items:center;height:100%;width:100%}.settings-div[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1;width:100%}.logout-btn-footer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;background:var(--solos-color-b)}.logout-btn[_ngcontent-%COMP%]{width:80%;margin-bottom:calc(env(safe-area-inset-bottom) + 10px)}"]],data:{}});function p(t){return n.Xb(0,[(t()(),n.Cb(0,0,null,null,12,"ion-header",[],null,null,null,b.Q,b.i)),n.Bb(1,49152,null,0,s.D,[n.j,n.p,n.F],null,null),(t()(),n.Cb(2,0,null,0,10,"ion-toolbar",[["class","settings-header-background"],["mode","ios"]],null,null,null,b.ob,b.G)),n.Bb(3,49152,null,0,s.Db,[n.j,n.p,n.F],{mode:[0,"mode"]},null),(t()(),n.Cb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,b.L,b.d)),n.Bb(5,49152,null,0,s.n,[n.j,n.p,n.F],null,null),(t()(),n.Cb(6,0,null,0,2,"ion-back-button",[["class","settings-back-button"],["text",""]],null,[[null,"click"]],(function(t,l,e){var i=!0;return"click"===l&&(i=!1!==n.Ob(t,8).onClick(e)&&i),i}),b.J,b.b)),n.Bb(7,49152,null,0,s.i,[n.j,n.p,n.F],{text:[0,"text"]},null),n.Bb(8,16384,null,0,s.j,[[2,s.jb],s.Jb],null,null),(t()(),n.Cb(9,0,null,0,3,"ion-title",[["class","settings-header-title"]],null,null,null,b.mb,b.E)),n.Bb(10,49152,null,0,s.Bb,[n.j,n.p,n.F],null,null),(t()(),n.Vb(11,0,["",""])),n.Pb(131072,c.j,[c.k,n.j]),(t()(),n.Cb(13,0,null,null,64,"ion-content",[["class","settings-background ion-padding-top"]],null,null,null,b.O,b.g)),n.Bb(14,49152,null,0,s.w,[n.j,n.p,n.F],null,null),(t()(),n.Cb(15,0,null,0,62,"div",[["class","body-div"]],null,null,null,null,null)),(t()(),n.Cb(16,0,null,null,61,"ion-list",[["class","settings-body settings-div "]],null,null,null,b.Z,b.q)),n.Bb(17,49152,null,0,s.Q,[n.j,n.p,n.F],null,null),(t()(),n.Cb(18,0,null,0,8,"ion-item",[["class","settings-item"]],null,null,null,b.W,b.o)),n.Bb(19,49152,null,0,s.J,[n.j,n.p,n.F],null,null),(t()(),n.Cb(20,0,null,0,3,"ion-label",[["color","settings-left-label"]],null,null,null,b.X,b.p)),n.Bb(21,49152,null,0,s.P,[n.j,n.p,n.F],{color:[0,"color"]},null),(t()(),n.Vb(22,0,["",""])),n.Pb(131072,c.j,[c.k,n.j]),(t()(),n.Cb(24,0,null,0,2,"ion-label",[["class","ion-text-right"],["color","settings-right-label"]],null,null,null,b.X,b.p)),n.Bb(25,49152,null,0,s.P,[n.j,n.p,n.F],{color:[0,"color"]},null),(t()(),n.Vb(26,0,["",""])),(t()(),n.Cb(27,0,null,0,8,"ion-item",[["button",""],["class","settings-item"],["detail",""]],null,[[null,"click"]],(function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.nameClicked()&&n),n}),b.W,b.o)),n.Bb(28,49152,null,0,s.J,[n.j,n.p,n.F],{button:[0,"button"],detail:[1,"detail"]},null),(t()(),n.Cb(29,0,null,0,3,"ion-label",[["color","settings-left-label"]],null,null,null,b.X,b.p)),n.Bb(30,49152,null,0,s.P,[n.j,n.p,n.F],{color:[0,"color"]},null),(t()(),n.Vb(31,0,["",""])),n.Pb(131072,c.j,[c.k,n.j]),(t()(),n.Cb(33,0,null,0,2,"ion-label",[["class","ion-text-right"],["color","settings-right-label"]],null,null,null,b.X,b.p)),n.Bb(34,49152,null,0,s.P,[n.j,n.p,n.F],{color:[0,"color"]},null),(t()(),n.Vb(35,0,["",""])),(t()(),n.Cb(36,0,null,0,5,"ion-list-header",[["class","settings-item-header"]],null,null,null,b.Y,b.r)),n.Bb(37,49152,null,0,s.R,[n.j,n.p,n.F],null,null),(t()(),n.Cb(38,0,null,0,3,"ion-label",[],null,null,null,b.X,b.p)),n.Bb(39,49152,null,0,s.P,[n.j,n.p,n.F],null,null),(t()(),n.Vb(40,0,["",""])),n.Pb(131072,c.j,[c.k,n.j]),(t()(),n.Cb(42,0,null,0,8,"ion-item",[["button",""],["class","settings-item"],["detail",""]],null,[[null,"click"]],(function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.ageClicked()&&n),n}),b.W,b.o)),n.Bb(43,49152,null,0,s.J,[n.j,n.p,n.F],{button:[0,"button"],detail:[1,"detail"]},null),(t()(),n.Cb(44,0,null,0,3,"ion-label",[["color","settings-left-label"]],null,null,null,b.X,b.p)),n.Bb(45,49152,null,0,s.P,[n.j,n.p,n.F],{color:[0,"color"]},null),(t()(),n.Vb(46,0,["",""])),n.Pb(131072,c.j,[c.k,n.j]),(t()(),n.Cb(48,0,null,0,2,"ion-label",[["class","ion-text-right"],["color","settings-right-label"]],null,null,null,b.X,b.p)),n.Bb(49,49152,null,0,s.P,[n.j,n.p,n.F],{color:[0,"color"]},null),(t()(),n.Vb(50,0,["",""])),(t()(),n.Cb(51,0,null,0,8,"ion-item",[["button",""],["class","settings-item"],["detail",""]],null,[[null,"click"]],(function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.genderClicked()&&n),n}),b.W,b.o)),n.Bb(52,49152,null,0,s.J,[n.j,n.p,n.F],{button:[0,"button"],detail:[1,"detail"]},null),(t()(),n.Cb(53,0,null,0,3,"ion-label",[["color","settings-left-label"]],null,null,null,b.X,b.p)),n.Bb(54,49152,null,0,s.P,[n.j,n.p,n.F],{color:[0,"color"]},null),(t()(),n.Vb(55,0,["",""])),n.Pb(131072,c.j,[c.k,n.j]),(t()(),n.Cb(57,0,null,0,2,"ion-label",[["class","ion-text-right"],["color","settings-right-label"]],null,null,null,b.X,b.p)),n.Bb(58,49152,null,0,s.P,[n.j,n.p,n.F],{color:[0,"color"]},null),(t()(),n.Vb(59,0,["",""])),(t()(),n.Cb(60,0,null,0,8,"ion-item",[["button",""],["class","settings-item"],["detail",""]],null,[[null,"click"]],(function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.heightClicked()&&n),n}),b.W,b.o)),n.Bb(61,49152,null,0,s.J,[n.j,n.p,n.F],{button:[0,"button"],detail:[1,"detail"]},null),(t()(),n.Cb(62,0,null,0,3,"ion-label",[["color","settings-left-label"]],null,null,null,b.X,b.p)),n.Bb(63,49152,null,0,s.P,[n.j,n.p,n.F],{color:[0,"color"]},null),(t()(),n.Vb(64,0,["",""])),n.Pb(131072,c.j,[c.k,n.j]),(t()(),n.Cb(66,0,null,0,2,"ion-label",[["class","ion-text-right"],["color","settings-right-label"]],null,null,null,b.X,b.p)),n.Bb(67,49152,null,0,s.P,[n.j,n.p,n.F],{color:[0,"color"]},null),(t()(),n.Vb(68,0,["",""])),(t()(),n.Cb(69,0,null,0,8,"ion-item",[["button",""],["class","settings-item"],["detail",""]],null,[[null,"click"]],(function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.weightClicked()&&n),n}),b.W,b.o)),n.Bb(70,49152,null,0,s.J,[n.j,n.p,n.F],{button:[0,"button"],detail:[1,"detail"]},null),(t()(),n.Cb(71,0,null,0,3,"ion-label",[["color","settings-left-label"]],null,null,null,b.X,b.p)),n.Bb(72,49152,null,0,s.P,[n.j,n.p,n.F],{color:[0,"color"]},null),(t()(),n.Vb(73,0,["",""])),n.Pb(131072,c.j,[c.k,n.j]),(t()(),n.Cb(75,0,null,0,2,"ion-label",[["class","ion-text-right"],["color","settings-right-label"]],null,null,null,b.X,b.p)),n.Bb(76,49152,null,0,s.P,[n.j,n.p,n.F],{color:[0,"color"]},null),(t()(),n.Vb(77,0,["",""])),(t()(),n.Cb(78,0,null,null,6,"ion-footer",[],null,null,null,b.P,b.h)),n.Bb(79,49152,null,0,s.B,[n.j,n.p,n.F],null,null),(t()(),n.Cb(80,0,null,0,4,"div",[["class","logout-btn-footer"]],null,null,null,null,null)),(t()(),n.Cb(81,0,null,null,3,"ion-button",[["class","logout-btn"],["color","solos-color-d"],["expand","block"],["shape","round"]],null,[[null,"click"]],(function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.logoutClicked()&&n),n}),b.K,b.c)),n.Bb(82,49152,null,0,s.m,[n.j,n.p,n.F],{color:[0,"color"],expand:[1,"expand"],shape:[2,"shape"]},null),(t()(),n.Vb(83,0,["",""])),n.Pb(131072,c.j,[c.k,n.j])],(function(t,l){t(l,3,0,"ios"),t(l,7,0,""),t(l,21,0,"settings-left-label"),t(l,25,0,"settings-right-label"),t(l,28,0,"",""),t(l,30,0,"settings-left-label"),t(l,34,0,"settings-right-label"),t(l,43,0,"",""),t(l,45,0,"settings-left-label"),t(l,49,0,"settings-right-label"),t(l,52,0,"",""),t(l,54,0,"settings-left-label"),t(l,58,0,"settings-right-label"),t(l,61,0,"",""),t(l,63,0,"settings-left-label"),t(l,67,0,"settings-right-label"),t(l,70,0,"",""),t(l,72,0,"settings-left-label"),t(l,76,0,"settings-right-label"),t(l,82,0,"solos-color-d","block","round")}),(function(t,l){var e=l.component;t(l,11,0,n.Wb(l,11,0,n.Ob(l,12).transform("profile-setting.header"))),t(l,22,0,n.Wb(l,22,0,n.Ob(l,23).transform("profile-setting.email-addr"))),t(l,26,0,e.emailAddr),t(l,31,0,n.Wb(l,31,0,n.Ob(l,32).transform("profile-setting.name"))),t(l,35,0,e.name),t(l,40,0,n.Wb(l,40,0,n.Ob(l,41).transform("profile-setting.bio"))),t(l,46,0,n.Wb(l,46,0,n.Ob(l,47).transform("profile-setting.age"))),t(l,50,0,e.age),t(l,55,0,n.Wb(l,55,0,n.Ob(l,56).transform("profile-setting.gender"))),t(l,59,0,e.gender),t(l,64,0,n.Wb(l,64,0,n.Ob(l,65).transform("profile-setting.height"))),t(l,68,0,e.height),t(l,73,0,n.Wb(l,73,0,n.Ob(l,74).transform("profile-setting.weight"))),t(l,77,0,e.weight),t(l,83,0,n.Wb(l,83,0,n.Ob(l,84).transform("profile-setting.logout")))}))}function g(t){return n.Xb(0,[(t()(),n.Cb(0,0,null,null,1,"app-profile-setting",[],null,null,null,p,d)),n.Bb(1,114688,null,0,u,[s.Jb,o.c,c.k,r.a,n.F],null,null)],(function(t,l){t(l,1,0)}),null)}var m=n.yb("app-profile-setting",u,g,{},{},[]),C=e("SVse"),f=e("s7LF"),k=e("iInd");e.d(l,"ProfileSettingPageModuleNgFactory",(function(){return y}));var y=n.zb(a,[],(function(t){return n.Lb([n.Mb(512,n.m,n.kb,[[8,[h.a,m]],[3,n.m],n.D]),n.Mb(4608,C.n,C.m,[n.z,[2,C.z]]),n.Mb(4608,f.j,f.j,[]),n.Mb(4608,s.c,s.c,[n.F,n.g]),n.Mb(4608,s.Ib,s.Ib,[s.c,n.m,n.w]),n.Mb(4608,s.Nb,s.Nb,[s.c,n.m,n.w]),n.Mb(1073742336,C.b,C.b,[]),n.Mb(1073742336,f.i,f.i,[]),n.Mb(1073742336,f.b,f.b,[]),n.Mb(1073742336,s.Fb,s.Fb,[]),n.Mb(1073742336,c.h,c.h,[]),n.Mb(1073742336,k.o,k.o,[[2,k.t],[2,k.m]]),n.Mb(1073742336,a,a,[]),n.Mb(1024,k.k,(function(){return[[{path:"",component:u}]]}),[])])}))}}]);