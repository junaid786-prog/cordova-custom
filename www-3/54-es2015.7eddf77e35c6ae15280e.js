(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{hWKl:function(n,l,t){"use strict";t.r(l);var i=t("8Y7J"),e=t("mrSG"),o=t("ZZ/e"),s=t("R3bG"),u=t("rk9M"),a=t("OUMn");class c{constructor(n,l,t,i,o,s,u){this.navCtrl=n,this.events=l,this.solosConnector=t,this.zone=i,this.translate=o,this.insomnia=s,this.popupCtrl=u,this.isFinished=!1,this.percentage=0,this.devInfo=null,this.evtSolosDisconnected=n=>e.b(this,void 0,void 0,(function*(){yield this.popupCtrl.presentAlertController({header:this.translate.instant("compass-cal.disconnect-header"),message:this.translate.instant("compass-cal.disconnect-message"),buttons:[{text:this.translate.instant("global.okay"),role:"cancel",handler:()=>{this.navCtrl.pop()}}]},!0)})),this.doneClicked=()=>{this.navCtrl.pop()},this.alwaysScreenOn=()=>e.b(this,void 0,void 0,(function*(){yield this.insomnia.keepAwake()})),this.allowsScreenOff=()=>e.b(this,void 0,void 0,(function*(){yield this.insomnia.allowSleepAgain()}))}ngOnInit(){}ionViewDidEnter(){let n;this.bindedFunctions={},n=this.evtSolosDisconnected.bind(this),this.events.subscribe(s.k,n),this.bindedFunctions[s.k]=n,n=this.evtMagnCalProgress.bind(this),this.events.subscribe(s.e,n),this.bindedFunctions[s.e]=n,n=this.evtMagnCalFinished.bind(this),this.events.subscribe(s.d,n),this.bindedFunctions[s.d]=n,null!=this.solosConnector.getConnectedDevice()?this.solosConnector.startMagnCalibration():this.navCtrl.pop(),this.alwaysScreenOn()}ionViewWillLeave(){this.isFinished||this.solosConnector.stopMagnCalibration();for(let n in this.bindedFunctions)this.events.unsubscribe(n,this.bindedFunctions[n]);this.bindedFunctions=null,this.allowsScreenOff()}evtMagnCalFinished(n){this.zone.run(()=>{this.isFinished=!0})}evtMagnCalProgress(n){this.zone.run(()=>{this.percentage=n.percentage})}}class b{}var r=t("pMnS"),d=t("TSSN"),h=t("oBZk"),p=t("SVse"),g=i.Ab({encapsulation:0,styles:[[".body-div[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:start;justify-content:flex-start;-webkit-box-align:center;align-items:center;height:100%;width:100%}.icon-container[_ngcontent-%COMP%]{width:70%;padding-top:70%;position:relative}.icon-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;-o-object-fit:contain;object-fit:contain;border:0 transparent}.guideline[_ngcontent-%COMP%]{color:var(--solos-color-a);margin:0 40px;text-align:center}.percentage-container[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.percentage[_ngcontent-%COMP%]{color:var(--solos-color-a);font-size:35px}.calibrating[_ngcontent-%COMP%]{color:var(--solos-color-d);margin-bottom:calc(env(safe-area-inset-bottom) + 10px)}.done-button[_ngcontent-%COMP%]{width:80%;margin-bottom:calc(env(safe-area-inset-bottom) + 10px)}"]],data:{}});function f(n){return i.Xb(0,[(n()(),i.Cb(0,0,null,null,2,"p",[["class","calibrating"]],null,null,null,null,null)),(n()(),i.Vb(1,null,[" "," "])),i.Pb(131072,d.j,[d.k,i.j])],null,(function(n,l){n(l,1,0,i.Wb(l,1,0,i.Ob(l,2).transform("compass-cal.calibrating")))}))}function m(n){return i.Xb(0,[(n()(),i.Cb(0,0,null,null,3,"ion-button",[["class","done-button"],["color","solos-color-a"],["shape","round"]],null,[[null,"click"]],(function(n,l,t){var i=!0;return"click"===l&&(i=!1!==n.component.doneClicked()&&i),i}),h.K,h.c)),i.Bb(1,49152,null,0,o.m,[i.j,i.p,i.F],{color:[0,"color"],shape:[1,"shape"]},null),(n()(),i.Vb(2,0,[" "," "])),i.Pb(131072,d.j,[d.k,i.j])],(function(n,l){n(l,1,0,"solos-color-a","round")}),(function(n,l){n(l,2,0,i.Wb(l,2,0,i.Ob(l,3).transform("compass-cal.done")))}))}function v(n){return i.Xb(0,[(n()(),i.Cb(0,0,null,null,12,"ion-header",[],null,null,null,h.Q,h.i)),i.Bb(1,49152,null,0,o.D,[i.j,i.p,i.F],null,null),(n()(),i.Cb(2,0,null,0,10,"ion-toolbar",[["class","settings-header-background"],["mode","ios"]],null,null,null,h.ob,h.G)),i.Bb(3,49152,null,0,o.Db,[i.j,i.p,i.F],{mode:[0,"mode"]},null),(n()(),i.Cb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,h.L,h.d)),i.Bb(5,49152,null,0,o.n,[i.j,i.p,i.F],null,null),(n()(),i.Cb(6,0,null,0,2,"ion-back-button",[["class","settings-back-button"],["text",""]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==i.Ob(n,8).onClick(t)&&e),e}),h.J,h.b)),i.Bb(7,49152,null,0,o.i,[i.j,i.p,i.F],{text:[0,"text"]},null),i.Bb(8,16384,null,0,o.j,[[2,o.jb],o.Jb],null,null),(n()(),i.Cb(9,0,null,0,3,"ion-title",[["class","settings-header-title"]],null,null,null,h.mb,h.E)),i.Bb(10,49152,null,0,o.Bb,[i.j,i.p,i.F],null,null),(n()(),i.Vb(11,0,["",""])),i.Pb(131072,d.j,[d.k,i.j]),(n()(),i.Cb(13,0,null,null,14,"ion-content",[["class","settings-background ion-padding-top"],["scrollY","false"]],null,null,null,h.O,h.g)),i.Bb(14,49152,null,0,o.w,[i.j,i.p,i.F],{scrollY:[0,"scrollY"]},null),(n()(),i.Cb(15,0,null,0,12,"div",[["class","body-div"]],null,null,null,null,null)),(n()(),i.Cb(16,0,null,null,1,"div",[["class","icon-container"]],null,null,null,null,null)),(n()(),i.Cb(17,0,null,null,0,"img",[["class","icon-content"],["src","assets/imgs/infinite-icon.png"]],null,null,null,null,null)),(n()(),i.Cb(18,0,null,null,2,"p",[["class","guideline"]],null,null,null,null,null)),(n()(),i.Vb(19,null,[" "," "])),i.Pb(131072,d.j,[d.k,i.j]),(n()(),i.Cb(21,0,null,null,2,"div",[["class","percentage-container"]],null,null,null,null,null)),(n()(),i.Cb(22,0,null,null,1,"p",[["class","percentage"]],null,null,null,null,null)),(n()(),i.Vb(23,null,[" ","% "])),(n()(),i.rb(16777216,null,null,1,null,f)),i.Bb(25,16384,null,0,p.l,[i.X,i.T],{ngIf:[0,"ngIf"]},null),(n()(),i.rb(16777216,null,null,1,null,m)),i.Bb(27,16384,null,0,p.l,[i.X,i.T],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,3,0,"ios"),n(l,7,0,""),n(l,14,0,"false"),n(l,25,0,!t.isFinished),n(l,27,0,t.isFinished)}),(function(n,l){var t=l.component;n(l,11,0,i.Wb(l,11,0,i.Ob(l,12).transform("compass-cal.header"))),n(l,19,0,i.Wb(l,19,0,i.Ob(l,20).transform("compass-cal.guideline"))),n(l,23,0,t.percentage)}))}function C(n){return i.Xb(0,[(n()(),i.Cb(0,0,null,null,1,"app-cal-dev-magnet",[],null,null,null,v,g)),i.Bb(1,114688,null,0,c,[o.Jb,o.f,s.l,i.F,d.k,u.a,a.a],null,null)],(function(n,l){n(l,1,0)}),null)}var M=i.yb("app-cal-dev-magnet",c,C,{},{},[]),k=t("s7LF"),w=t("iInd");t.d(l,"CalDevMagnetPageModuleNgFactory",(function(){return F}));var F=i.zb(b,[],(function(n){return i.Lb([i.Mb(512,i.m,i.kb,[[8,[r.a,M]],[3,i.m],i.D]),i.Mb(4608,p.n,p.m,[i.z,[2,p.z]]),i.Mb(4608,k.j,k.j,[]),i.Mb(4608,o.c,o.c,[i.F,i.g]),i.Mb(4608,o.Ib,o.Ib,[o.c,i.m,i.w]),i.Mb(4608,o.Nb,o.Nb,[o.c,i.m,i.w]),i.Mb(4608,d.g,d.f,[]),i.Mb(4608,d.c,d.e,[]),i.Mb(4608,d.i,d.d,[]),i.Mb(4608,d.b,d.a,[]),i.Mb(4608,d.k,d.k,[d.l,d.g,d.c,d.i,d.b,d.m,d.n]),i.Mb(1073742336,p.b,p.b,[]),i.Mb(1073742336,k.i,k.i,[]),i.Mb(1073742336,k.b,k.b,[]),i.Mb(1073742336,o.Fb,o.Fb,[]),i.Mb(1073742336,d.h,d.h,[]),i.Mb(1073742336,w.o,w.o,[[2,w.t],[2,w.m]]),i.Mb(1073742336,b,b,[]),i.Mb(256,d.n,void 0,[]),i.Mb(256,d.m,void 0,[]),i.Mb(1024,w.k,(function(){return[[{path:"",component:c}]]}),[])])}))}}]);