function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,t){for(var l=0;l<t.length;l++){var e=t[l];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function _createClass(n,t,l){return t&&_defineProperties(n.prototype,t),l&&_defineProperties(n,l),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{"9nBQ":function(n,t,l){"use strict";l.r(t);var e=l("8Y7J"),r=l("mrSG"),a=l("4SHv"),s=l("9B/o"),o=l("OUMn"),i=function(){function n(t,l,e,s,o){var i=this;_classCallCheck(this,n),this.zone=t,this.strava=l,this.iab=e,this.popupCtrl=s,this.translate=o,this.isStravaAuthorized=!1,this.onClickConnectStravaBtn=function(){var n=i.strava.getAuthorizeURL(),t=i.iab.create(n,"_blank","location=no,zoom=no,usewkwebview=yes,toolbarcolor=#212629,closebuttoncolor=#fc4c02,hidenavigationbuttons=yes,hardwareback=no"),l=t.on("loadstart").subscribe((function(n){return r.b(i,void 0,void 0,regeneratorRuntime.mark((function e(){var r,s,o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,e.prev=1,e.next=4,this.strava.getAuthorizationCode(n.url);case 4:if(s=e.sent,e.t0=""!=s,!e.t0){e.next=17;break}return l.unsubscribe(),t.close(),e.next=11,this.popupCtrl.presentLoadingController({spinner:"bubbles",translucent:!0});case 11:return r=e.sent,e.next=14,this.strava.getAccessToken(s);case 14:return e.next=16,r.dismiss();case 16:this.zone.run((function(){i.isStravaAuthorized=i.strava.isAuthorized()}));case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(1),null!=r&&r.dismiss(),l.unsubscribe(),t.close(),o=e.t1==a.b.ErrAccessDenied?this.translate.instant("strava.access-denied-error"):e.t1==a.b.ErrAuth?this.translate.instant("strava.auth-error"):e.t1==a.b.ErrUnauthorizedScope?this.translate.instant("strava.unauthorized-scope-error"):e.t1==a.b.ErrInvalidGetTokenResponse?this.translate.instant("strava.invalid-get-token-response"):e.t1==a.b.ErrInvalidRefreshTokenResponse?this.translate.instant("strava.invalid-refresh-token-response"):this.translate.instant("strava.unknown-error",{value:e.t1}),this.popupCtrl.presentAlertController({header:this.translate.instant("strava.connect-error"),message:o,buttons:[{text:this.translate.instant("global.okay")}]},!0);case 22:case"end":return e.stop()}}),e,this,[[1,19]])})))}))},this.onClickDisconnectStravaBtn=function(){return r.b(i,void 0,void 0,regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=null,n.prev=1,n.next=4,this.popupCtrl.presentLoadingController({spinner:"bubbles",translucent:!0});case 4:return t=n.sent,n.next=7,this.strava.deauthorize();case 7:return n.next=9,t.dismiss();case 9:this.isStravaAuthorized=this.strava.isAuthorized(),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),console.log(n.t0),null!=t&&t.dismiss();case 15:case"end":return n.stop()}}),n,this,[[1,12]])})))}}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){this.isStravaAuthorized=this.strava.isAuthorized()}}]),n}(),u=function n(){_classCallCheck(this,n)},c=l("pMnS"),b=l("TSSN"),v=l("oBZk"),d=l("ZZ/e"),h=l("SVse"),p=e.Ab({encapsulation:0,styles:[[".strava-body[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:start;justify-content:flex-start;-webkit-box-align:center;align-items:center;width:100%;height:100%}.statement[_ngcontent-%COMP%]{color:var(--solos-color-a);width:90%;white-space:pre-line}.strava-logo[_ngcontent-%COMP%]{font-size:200px}.strava-footer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;background:var(--solos-color-b)}.connect-strava-btn[_ngcontent-%COMP%]{width:200px;margin-bottom:calc(env(safe-area-inset-bottom) + 10px)}.disconnect-strava-btn[_ngcontent-%COMP%]{width:80%;margin-bottom:calc(env(safe-area-inset-bottom) + 10px)}"]],data:{}});function f(n){return e.Xb(0,[(n()(),e.Cb(0,0,null,null,2,"div",[["class","statement"]],null,null,null,null,null)),(n()(),e.Vb(1,null,["",""])),e.Pb(131072,b.j,[b.k,e.j])],null,(function(n,t){n(t,1,0,e.Wb(t,1,0,e.Ob(t,2).transform("strava.disconnect-strava-statement")))}))}function g(n){return e.Xb(0,[(n()(),e.Cb(0,0,null,null,2,"div",[["class","statement"]],null,null,null,null,null)),(n()(),e.Vb(1,null,["",""])),e.Pb(131072,b.j,[b.k,e.j])],null,(function(n,t){n(t,1,0,e.Wb(t,1,0,e.Ob(t,2).transform("strava.connect-strava-statement")))}))}function k(n){return e.Xb(0,[(n()(),e.Cb(0,0,null,null,3,"ion-button",[["class","disconnect-strava-btn"],["color","solos-color-d"],["shape","round"]],null,[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.onClickDisconnectStravaBtn()&&e),e}),v.K,v.c)),e.Bb(1,49152,null,0,d.m,[e.j,e.p,e.F],{color:[0,"color"],shape:[1,"shape"]},null),(n()(),e.Vb(2,0,["",""])),e.Pb(131072,b.j,[b.k,e.j])],(function(n,t){n(t,1,0,"solos-color-d","round")}),(function(n,t){n(t,2,0,e.Wb(t,2,0,e.Ob(t,3).transform("strava.disconnect")))}))}function m(n){return e.Xb(0,[(n()(),e.Cb(0,0,null,null,1,"ion-img",[["class","connect-strava-btn"],["src","assets/imgs/btn_strava_connectwith_orange.svg"]],null,[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.onClickConnectStravaBtn()&&e),e}),v.S,v.k)),e.Bb(1,49152,null,0,d.F,[e.j,e.p,e.F],{src:[0,"src"]},null)],(function(n,t){n(t,1,0,"assets/imgs/btn_strava_connectwith_orange.svg")}),null)}function C(n){return e.Xb(0,[(n()(),e.Cb(0,0,null,null,12,"ion-header",[],null,null,null,v.Q,v.i)),e.Bb(1,49152,null,0,d.D,[e.j,e.p,e.F],null,null),(n()(),e.Cb(2,0,null,0,10,"ion-toolbar",[["class","settings-header-background"],["mode","ios"]],null,null,null,v.ob,v.G)),e.Bb(3,49152,null,0,d.Db,[e.j,e.p,e.F],{mode:[0,"mode"]},null),(n()(),e.Cb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,v.L,v.d)),e.Bb(5,49152,null,0,d.n,[e.j,e.p,e.F],null,null),(n()(),e.Cb(6,0,null,0,2,"ion-back-button",[["class","settings-back-button"],["text",""]],null,[[null,"click"]],(function(n,t,l){var r=!0;return"click"===t&&(r=!1!==e.Ob(n,8).onClick(l)&&r),r}),v.J,v.b)),e.Bb(7,49152,null,0,d.i,[e.j,e.p,e.F],{text:[0,"text"]},null),e.Bb(8,16384,null,0,d.j,[[2,d.jb],d.Jb],null,null),(n()(),e.Cb(9,0,null,0,3,"ion-title",[["class","settings-header-title"]],null,null,null,v.mb,v.E)),e.Bb(10,49152,null,0,d.Bb,[e.j,e.p,e.F],null,null),(n()(),e.Vb(11,0,["",""])),e.Pb(131072,b.j,[b.k,e.j]),(n()(),e.Cb(13,0,null,null,8,"ion-content",[["class","settings-background ion-padding-top"]],null,null,null,v.O,v.g)),e.Bb(14,49152,null,0,d.w,[e.j,e.p,e.F],null,null),(n()(),e.Cb(15,0,null,0,6,"div",[["class","strava-body"]],null,null,null,null,null)),(n()(),e.Cb(16,0,null,null,1,"ion-img",[["class","strava-logo"],["src","assets/imgs/strava-logo-orange.png"]],null,null,null,v.S,v.k)),e.Bb(17,49152,null,0,d.F,[e.j,e.p,e.F],{src:[0,"src"]},null),(n()(),e.rb(16777216,null,null,1,null,f)),e.Bb(19,16384,null,0,h.l,[e.X,e.T],{ngIf:[0,"ngIf"]},null),(n()(),e.rb(16777216,null,null,1,null,g)),e.Bb(21,16384,null,0,h.l,[e.X,e.T],{ngIf:[0,"ngIf"]},null),(n()(),e.Cb(22,0,null,null,6,"ion-footer",[],null,null,null,v.P,v.h)),e.Bb(23,49152,null,0,d.B,[e.j,e.p,e.F],null,null),(n()(),e.Cb(24,0,null,0,4,"div",[["class","strava-footer"]],null,null,null,null,null)),(n()(),e.rb(16777216,null,null,1,null,k)),e.Bb(26,16384,null,0,h.l,[e.X,e.T],{ngIf:[0,"ngIf"]},null),(n()(),e.rb(16777216,null,null,1,null,m)),e.Bb(28,16384,null,0,h.l,[e.X,e.T],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component;n(t,3,0,"ios"),n(t,7,0,""),n(t,17,0,"assets/imgs/strava-logo-orange.png"),n(t,19,0,l.isStravaAuthorized),n(t,21,0,!l.isStravaAuthorized),n(t,26,0,l.isStravaAuthorized),n(t,28,0,!l.isStravaAuthorized)}),(function(n,t){n(t,11,0,e.Wb(t,11,0,e.Ob(t,12).transform("strava.strava")))}))}var w=e.yb("app-strava-authorization",i,(function(n){return e.Xb(0,[(n()(),e.Cb(0,0,null,null,1,"app-strava-authorization",[],null,null,null,C,p)),e.Bb(1,114688,null,0,i,[e.F,a.c,s.a,o.a,b.k],null,null)],(function(n,t){n(t,1,0)}),null)}),{},{},[]),x=l("s7LF"),M=l("iInd");l.d(t,"StravaAuthorizationPageModuleNgFactory",(function(){return z}));var z=e.zb(u,[],(function(n){return e.Lb([e.Mb(512,e.m,e.kb,[[8,[c.a,w]],[3,e.m],e.D]),e.Mb(4608,h.n,h.m,[e.z,[2,h.z]]),e.Mb(4608,x.j,x.j,[]),e.Mb(4608,d.c,d.c,[e.F,e.g]),e.Mb(4608,d.Ib,d.Ib,[d.c,e.m,e.w]),e.Mb(4608,d.Nb,d.Nb,[d.c,e.m,e.w]),e.Mb(4608,b.g,b.f,[]),e.Mb(4608,b.c,b.e,[]),e.Mb(4608,b.i,b.d,[]),e.Mb(4608,b.b,b.a,[]),e.Mb(4608,b.k,b.k,[b.l,b.g,b.c,b.i,b.b,b.m,b.n]),e.Mb(1073742336,h.b,h.b,[]),e.Mb(1073742336,x.i,x.i,[]),e.Mb(1073742336,x.b,x.b,[]),e.Mb(1073742336,d.Fb,d.Fb,[]),e.Mb(1073742336,b.h,b.h,[]),e.Mb(1073742336,M.o,M.o,[[2,M.t],[2,M.m]]),e.Mb(1073742336,u,u,[]),e.Mb(256,b.n,void 0,[]),e.Mb(256,b.m,void 0,[]),e.Mb(1024,M.k,(function(){return[[{path:"",component:i}]]}),[])])}))}}]);